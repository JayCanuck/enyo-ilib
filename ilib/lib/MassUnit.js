var Measurement=require("./Measurement.js");var MassUnit=function(options){this.unit="gram";this.amount=0;this.aliases=MassUnit.aliases;if(options){if(typeof options.unit!=="undefined"){this.originalUnit=options.unit;this.unit=this.aliases[options.unit]||options.unit}if(typeof options.amount==="object"){if(options.amount.getMeasure()==="mass"){this.amount=MassUnit.convert(this.unit,options.amount.getUnit(),options.amount.getAmount())}else{throw"Cannot convert units "+options.amount.unit+" to a mass"}}else if(typeof options.amount!=="undefined"){this.amount=parseFloat(options.amount)}}if(typeof MassUnit.ratios[this.unit]==="undefined"){throw"Unknown unit: "+options.unit}};MassUnit.prototype=new Measurement();MassUnit.prototype.parent=Measurement;MassUnit.prototype.constructor=MassUnit;MassUnit.ratios={microgram:[1,1,.001,1e-6,3.5274e-8,2.2046e-9,1e-9,1.5747e-10,1.1023e-12,1e-12,9.8421e-13],milligram:[2,1e3,1,.001,35274e-9,22046e-10,1e-6,1.5747e-7,1.1023e-9,1e-9,9.8421e-10],gram:[3,1e6,1e3,1,.035274,.00220462,.001,157473e-9,11023e-10,1e-6,9.8421e-7],ounce:[4,2835e4,28349.5,28.3495,1,.0625,.0283495,.00446429,3125e-8,2835e-8,27902e-9],pound:[5,4536e5,453592,453.592,16,1,.453592,.0714286,5e-4,453592e-9,446429e-9],kilogram:[6,1e9,1e6,1e3,35.274,2.20462,1,.157473,.00110231,.001,984207e-9],stone:[7,635e7,635e4,6350.29,224,14,6.35029,1,.007,.00635029,.00625],"short ton":[8,9072e8,9072e5,907185,32e3,2e3,907.185,142.857,1,.907185,.892857],"metric ton":[9,1e12,1e9,1e6,35274,2204.62,1e3,157.473,1.10231,1,.984207],"long ton":[10,1016e9,1016e6,1016e3,35840,2240,1016.05,160,1.12,1.01605,1]};MassUnit.metricSystem={microgram:1,milligram:2,gram:3,kilogram:6,"metric ton":9};MassUnit.imperialSystem={ounce:4,pound:5,stone:7,"long ton":10};MassUnit.uscustomarySystem={ounce:4,pound:5,"short ton":8};MassUnit.metricToUScustomary={microgram:"ounce",milligram:"ounce",gram:"ounce",kilogram:"pound","metric ton":"long ton"};MassUnit.metricToImperial={microgram:"ounce",milligram:"ounce",gram:"ounce",kilogram:"pound","metric ton":"short ton"};MassUnit.imperialToMetric={ounce:"gram",pound:"kilogram",stone:"kilogram","short ton":"metric ton"};MassUnit.imperialToUScustomary={ounce:"ounce",pound:"pound",stone:"stone","short ton":"long ton"};MassUnit.uScustomaryToImperial={ounce:"ounce",pound:"pound",stone:"stone","long ton":"short ton"};MassUnit.uScustomarylToMetric={ounce:"gram",pound:"kilogram",stone:"kilogram","long ton":"metric ton"};MassUnit.prototype.localize=function(locale){var to;if(locale==="en-US"){to=MassUnit.metricToUScustomary[this.unit]||MassUnit.imperialToUScustomary[this.unit]||this.unit}else if(locale==="en-GB"){to=MassUnit.metricToImperial[this.unit]||MassUnit.uScustomaryToImperial[this.unit]||this.unit}else{to=MassUnit.uScustomarylToMetric[this.unit]||MassUnit.imperialToUScustomary[this.unit]||this.unit}return new MassUnit({unit:to,amount:this})};MassUnit.prototype.getMeasure=function(){return"mass"};MassUnit.prototype.convert=function(to){if(!to||typeof MassUnit.ratios[this.normalizeUnits(to)]==="undefined"){return undefined}return new MassUnit({unit:to,amount:this})};MassUnit.aliases={"µg":"microgram",microgram:"microgram",mcg:"microgram",milligram:"milligram",mg:"milligram",milligrams:"milligram",Milligram:"milligram",Milligrams:"milligram",MilliGram:"milligram",MilliGrams:"milligram",g:"gram",gram:"gram",grams:"gram",Gram:"gram",Grams:"gram",ounce:"ounce",oz:"ounce",Ounce:"ounce","℥":"ounce",pound:"pound",poundm:"pound","℔":"pound",lb:"pound",pounds:"pound",Pound:"pound",Pounds:"pound",kilogram:"kilogram",kg:"kilogram",kilograms:"kilogram","kilo grams":"kilogram","kilo gram":"kilogram",Kilogram:"kilogram",Kilograms:"kilogram",KiloGram:"kilogram",KiloGrams:"kilogram","Kilo gram":"kilogram","Kilo grams":"kilogram","Kilo Gram":"kilogram","Kilo Grams":"kilogram",stone:"stone",st:"stone",stones:"stone",Stone:"stone","short ton":"short ton","Short ton":"short ton","Short Ton":"short ton","metric ton":"metric ton",metricton:"metric ton",t:"metric ton",tonne:"metric ton",Tonne:"metric ton","Metric Ton":"metric ton",MetricTon:"metric ton","long ton":"long ton",longton:"long ton",Longton:"long ton","Long ton":"long ton","Long Ton":"long ton",ton:"long ton",Ton:"long ton"};MassUnit.convert=function(to,from,mass){from=MassUnit.aliases[from]||from;to=MassUnit.aliases[to]||to;var fromRow=MassUnit.ratios[from];var toRow=MassUnit.ratios[to];if(typeof from==="undefined"||typeof to==="undefined"){return undefined}return mass*fromRow[toRow[0]]};MassUnit.prototype.scale=function(measurementsystem){var mSystem;if(measurementsystem==="metric"||typeof measurementsystem==="undefined"&&typeof MassUnit.metricSystem[this.unit]!=="undefined"){mSystem=MassUnit.metricSystem}else if(measurementsystem==="imperial"||typeof measurementsystem==="undefined"&&typeof MassUnit.imperialSystem[this.unit]!=="undefined"){mSystem=MassUnit.imperialSystem}else if(measurementsystem==="uscustomary"||typeof measurementsystem==="undefined"&&typeof MassUnit.uscustomarySystem[this.unit]!=="undefined"){mSystem=MassUnit.uscustomarySystem}else{return new MassUnit({unit:this.unit,amount:this.amount})}var mass=this.amount;var munit=this.amount;var fromRow=MassUnit.ratios[this.unit];mass=0x10000000000000000;for(var m in mSystem){var tmp=this.amount*fromRow[mSystem[m]];if(tmp>=1&&tmp<mass){mass=tmp;munit=m}}return new MassUnit({unit:munit,amount:mass})};MassUnit.getMeasures=function(){var ret=[];for(var m in MassUnit.ratios){ret.push(m)}return ret};Measurement._constructors["mass"]=MassUnit;module.exports=MassUnit;