var ilib=require("./ilib.js");var SearchUtils=require("./SearchUtils.js");var Utils=require("./Utils.js");var Locale=require("./Locale.js");var IString=require("./IString.js");var CType={};CType._inRange=function(num,rangeName,obj){var range,i;if(num<0||!rangeName||!obj){return false}range=obj[rangeName];if(!range){return false}var compare=function(singlerange,target){if(singlerange.length===1){return singlerange[0]-target}else{return target<singlerange[0]?singlerange[0]-target:target>singlerange[1]?singlerange[1]-target:0}};var result=SearchUtils.bsearch(num,range,compare);return result<range.length&&compare(range[result],num)===0};CType.withinRange=function(ch,rangeName){if(!rangeName){return false}var num;switch(typeof ch){case"number":num=ch;break;case"string":num=IString.toCodePoint(ch,0);break;case"undefined":return false;default:num=ch._toCodePoint(0);break}return CType._inRange(num,rangeName.toLowerCase(),ilib.data.ctype)};CType._init=function(sync,loadParams,onLoad){CType._load("ctype",sync,loadParams,onLoad)};CType._load=function(name,sync,loadParams,onLoad){if(!ilib.data[name]){var loadName=name?name+".json":"CType.json";Utils.loadData({name:loadName,locale:"-",nonlocale:true,sync:sync,loadParams:loadParams,callback:ilib.bind(this,function(ct){ilib.data[name]=ct;if(onLoad&&typeof onLoad==="function"){onLoad(ilib.data[name])}})})}else{if(onLoad&&typeof onLoad==="function"){onLoad(ilib.data[name])}}};module.exports=CType;