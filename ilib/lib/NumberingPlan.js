var ilib=require("./ilib.js");var Utils=require("./Utils.js");var JSUtils=require("./JSUtils.js");var Locale=require("./Locale.js");var NumberingPlan=function(options){var sync=true,loadParams={};this.locale=new Locale();if(options){if(options.locale){this.locale=typeof options.locale==="string"?new Locale(options.locale):options.locale}if(typeof options.sync!=="undefined"){sync=options.sync==true}if(options.loadParams){loadParams=options.loadParams}}Utils.loadData({name:"numplan.json",object:NumberingPlan,locale:this.locale,sync:sync,loadParams:loadParams,callback:ilib.bind(this,function(npdata){if(!npdata){npdata={region:"XX",skipTrunk:false,trunkCode:"0",iddCode:"00",dialingPlan:"closed",commonFormatChars:" ()-./",fieldLengths:{areaCode:0,cic:0,mobilePrefix:0,serviceCode:0}}}this.npdata=npdata;if(options&&typeof options.onLoad==="function"){options.onLoad(this)}})})};NumberingPlan.prototype={getName:function(){return this.npdata.region},getTrunkCode:function(){return this.npdata.trunkCode},getIDDCode:function(){return this.npdata.iddCode},getPlanStyle:function(){return this.npdata.dialingPlan},getContextFree:function(){return this.npdata.contextFree},getFindExtensions:function(){return this.npdata.findExtensions},getSkipTrunk:function(){return this.npdata.skipTrunk},getTrunkRequired:function(){return this.npdata.trunkRequired},getExtendedAreaCode:function(){return this.npdata.extendedAreaCodes},getCommonFormatChars:function(){return this.npdata.commonFormatChars},getFieldLength:function(field){var dataField=this.npdata.fieldLengths;return dataField[field]}};module.exports=NumberingPlan;