var isPunct=require("./isPunct.js");var NormString=require("./NormString.js");var CodePointSource=function(str,ignorePunctuation){this.chars=[];var s=typeof str==="string"?new NormString(str):str;this.it=s.charIterator();this.ignorePunctuation=typeof ignorePunctuation==="boolean"&&ignorePunctuation};CodePointSource.prototype.peek=function(num){if(num<1){return undefined}if(this.chars.length<num&&this.it.hasNext()){for(var i=0;this.chars.length<4&&this.it.hasNext();i++){var c=this.it.next();if(c&&!this.ignorePunctuation||!isPunct(c)){this.chars.push(c)}}}if(this.chars.length<num){return undefined}return this.chars.slice(0,num).join("")};CodePointSource.prototype.consume=function(num){if(num>0){this.peek(num);if(num<this.chars.length){this.chars=this.chars.slice(num)}else{this.chars=[]}}};module.exports=CodePointSource;