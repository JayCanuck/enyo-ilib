var Measurement=require("./Measurement.js");var VelocityUnit=function(options){this.unit="meters/second";this.amount=0;this.aliases=VelocityUnit.aliases;if(options){if(typeof options.unit!=="undefined"){this.originalUnit=options.unit;this.unit=this.aliases[options.unit]||options.unit}if(typeof options.amount==="object"){if(options.amount.getMeasure()==="speed"){this.amount=VelocityUnit.convert(this.unit,options.amount.getUnit(),options.amount.getAmount())}else{throw"Cannot convert units "+options.amount.unit+" to a speed"}}else if(typeof options.amount!=="undefined"){this.amount=parseFloat(options.amount)}}if(typeof VelocityUnit.ratios[this.unit]==="undefined"){throw"Unknown unit: "+options.unit}};VelocityUnit.prototype=new Measurement();VelocityUnit.prototype.parent=Measurement;VelocityUnit.prototype.constructor=VelocityUnit;VelocityUnit.ratios={"kilometer/hour":[1,1,.911344,.621371,.539957,.277778,277778e-9,.000172603109],"feet/second":[2,1.09728,1,.681818,.592484,.3048,3048e-7,.000189393939],"miles/hour":[3,1.60934,1.46667,1,.868976,.44704,44704e-8,.000277777778],knot:[4,1.852,1.68781,1.15078,1,.514444,514444e-9,.000319660958],"meters/second":[5,3.6,3.28084,2.236936,1.94384,1,.001,.000621371192],"kilometer/second":[6,3600,3280.8399,2236.93629,1943.84449,1e3,1,.621371192],"miles/second":[7,5793.6384,5280,3600,3128.31447,1609.344,1.609344,1]};VelocityUnit.metricSystem={"kilometer/hour":1,"meters/second":5,"kilometer/second":6};VelocityUnit.imperialSystem={"feet/second":2,"miles/hour":3,knot:4,"miles/second":7};VelocityUnit.uscustomarySystem={"feet/second":2,"miles/hour":3,knot:4,"miles/second":7};VelocityUnit.metricToUScustomary={"kilometer/hour":"miles/hour","meters/second":"feet/second","kilometer/second":"miles/second"};VelocityUnit.UScustomaryTometric={"miles/hour":"kilometer/hour","feet/second":"meters/second","miles/second":"kilometer/second",knot:"kilometer/hour"};VelocityUnit.prototype.getMeasure=function(){return"speed"};VelocityUnit.prototype.convert=function(to){if(!to||typeof VelocityUnit.ratios[this.normalizeUnits(to)]==="undefined"){return undefined}return new VelocityUnit({unit:to,amount:this})};VelocityUnit.prototype.scale=function(measurementsystem){var mSystem;if(measurementsystem==="metric"||typeof measurementsystem==="undefined"&&typeof VelocityUnit.metricSystem[this.unit]!=="undefined"){mSystem=VelocityUnit.metricSystem}else if(measurementsystem==="imperial"||typeof measurementsystem==="undefined"&&typeof VelocityUnit.imperialSystem[this.unit]!=="undefined"){mSystem=VelocityUnit.imperialSystem}else if(measurementsystem==="uscustomary"||typeof measurementsystem==="undefined"&&typeof VelocityUnit.uscustomarySystem[this.unit]!=="undefined"){mSystem=VelocityUnit.uscustomarySystem}else{return new VelocityUnit({unit:this.unit,amount:this.amount})}var speed=this.amount;var munit=this.unit;var fromRow=VelocityUnit.ratios[this.unit];speed=0x10000000000000000;for(var m in mSystem){var tmp=this.amount*fromRow[mSystem[m]];if(tmp>=1&&tmp<speed){speed=tmp;munit=m}}return new VelocityUnit({unit:munit,amount:speed})};VelocityUnit.prototype.localize=function(locale){var to;if(locale==="en-US"||locale==="en-GB"){to=VelocityUnit.metricToUScustomary[this.unit]||this.unit}else{to=VelocityUnit.UScustomaryTometric[this.unit]||this.unit}return new VelocityUnit({unit:to,amount:this})};VelocityUnit.aliases={"foot/sec":"feet/second","foot/s":"feet/second","feet/s":"feet/second","f/s":"feet/second","feet/second":"feet/second","feet/sec":"feet/second","meter/sec":"meters/second","meter/s":"meters/second","meters/s":"meters/second","metre/sec":"meters/second","metre/s":"meters/second","metres/s":"meters/second","mt/sec":"meters/second","m/sec":"meters/second","mt/s":"meters/second","m/s":"meters/second",mps:"meters/second","meters/second":"meters/second","meters/sec":"meters/second","kilometer/hour":"kilometer/hour","km/hour":"kilometer/hour","kilometers/hour":"kilometer/hour",kmh:"kilometer/hour","km/h":"kilometer/hour","kilometer/h":"kilometer/hour","kilometers/h":"kilometer/hour","km/hr":"kilometer/hour","kilometer/hr":"kilometer/hour","kilometers/hr":"kilometer/hour","kilometre/hour":"kilometer/hour",mph:"miles/hour","mile/hour":"miles/hour","mile/hr":"miles/hour","mile/h":"miles/hour","miles/h":"miles/hour","miles/hr":"miles/hour","miles/hour":"miles/hour",kn:"knot",kt:"knot",kts:"knot",knots:"knot","nm/h":"knot","nm/hr":"knot","nauticalmile/h":"knot","nauticalmile/hr":"knot","nauticalmile/hour":"knot","nauticalmiles/hr":"knot","nauticalmiles/hour":"knot",knot:"knot","kilometer/second":"kilometer/second","kilometer/sec":"kilometer/second","kilometre/sec":"kilometer/second","Kilometre/sec":"kilometer/second","kilometers/second":"kilometer/second","kilometers/sec":"kilometer/second","kilometres/sec":"kilometer/second","Kilometres/sec":"kilometer/second","km/sec":"kilometer/second","Km/s":"kilometer/second","km/s":"kilometer/second","miles/second":"miles/second","miles/sec":"miles/second","miles/s":"miles/second","mile/s":"miles/second","mile/sec":"miles/second","Mile/s":"miles/second"};VelocityUnit.convert=function(to,from,speed){from=VelocityUnit.aliases[from]||from;to=VelocityUnit.aliases[to]||to;var fromRow=VelocityUnit.ratios[from];var toRow=VelocityUnit.ratios[to];if(typeof from==="undefined"||typeof to==="undefined"){return undefined}var result=speed*fromRow[toRow[0]];return result};VelocityUnit.getMeasures=function(){var ret=[];for(var m in VelocityUnit.ratios){ret.push(m)}return ret};Measurement._constructors["speed"]=VelocityUnit;Measurement._constructors["velocity"]=VelocityUnit;module.exports=VelocityUnit;