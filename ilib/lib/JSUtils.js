var ilib=require("./ilib.js");var JSUtils={};JSUtils.shallowCopy=function(source,target){var prop=undefined;if(source&&target){for(prop in source){if(prop!==undefined&&typeof source[prop]!=="undefined"){target[prop]=source[prop]}}}};JSUtils.deepCopy=function(from,to){var prop;for(prop in from){if(prop){if(typeof from[prop]==="object"){to[prop]={};JSUtils.deepCopy(from[prop],to[prop])}else{to[prop]=from[prop]}}}return to};JSUtils.mapString=function(str,map){var mapped="";if(map&&str){for(var i=0;i<str.length;i++){var c=str.charAt(i);mapped+=map[c]||c}}else{mapped=str}return mapped};JSUtils.indexOf=function(array,obj){if(!array||!obj){return-1}if(typeof array.indexOf==="function"){return array.indexOf(obj)}else{for(var i=0;i<array.length;i++){if(array[i]===obj){return i}}return-1}};JSUtils.toHexString=function(string,limit){var i,result="",lim=limit&&limit<9?limit:4;if(!string){return""}for(i=0;i<string.length;i++){var ch=string.charCodeAt(i).toString(16);result+="00000000".substring(0,lim-ch.length)+ch}return result.toUpperCase()};JSUtils.isDate=function(object){var o;if(typeof object==="object"){o=object;return Object.prototype.toString.call(o)==="[object Date]"}return false};JSUtils.merge=function(object1,object2,replace,name1,name2){var prop=undefined,newObj={};for(prop in object1){if(prop&&typeof object1[prop]!=="undefined"){newObj[prop]=object1[prop]}}for(prop in object2){if(prop&&typeof object2[prop]!=="undefined"){if(ilib.isArray(object1[prop])&&ilib.isArray(object2[prop])){if(typeof replace!=="boolean"||!replace){newObj[prop]=[].concat(object1[prop]);newObj[prop]=newObj[prop].concat(object2[prop])}else{newObj[prop]=object2[prop]}}else if(typeof object1[prop]==="object"&&typeof object2[prop]==="object"){newObj[prop]=JSUtils.merge(object1[prop],object2[prop],replace)}else{if(name1&&name2&&newObj[prop]==object2[prop]){console.log("Property "+prop+" in "+name1+" is being overridden by the same value in "+name2)}newObj[prop]=object2[prop]}}}return newObj};JSUtils.isEmpty=function(obj){var prop=undefined;if(!obj){return true}for(prop in obj){if(prop&&typeof obj[prop]!=="undefined"){return false}}return true};JSUtils.hashCode=function(obj){var hash=0;function addHash(hash,newValue){hash*=65543;hash+=newValue;hash%=2147483647;return hash}function stringHash(str){var hash=0;for(var i=0;i<str.length;i++){hash=addHash(hash,str.charCodeAt(i))}return hash}switch(typeof obj){case"undefined":hash=0;break;case"string":hash=stringHash(obj);break;case"function":case"number":case"xml":hash=stringHash(String(obj));break;case"boolean":hash=obj?1:0;break;case"object":var props=[];for(var p in obj){if(obj.hasOwnProperty(p)){props.push(p)}}props.sort();for(var i=0;i<props.length;i++){hash=addHash(hash,stringHash(props[i]));hash=addHash(hash,JSUtils.hashCode(obj[props[i]]))}break}return hash};module.exports=JSUtils;