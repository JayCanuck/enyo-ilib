/*

 Copyright Â© 2012-2014, JEDLSoft

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

 See the License for the specific language governing permissions and
 limitations under the License.
*/
var ilib={_ver:function(){return"10.0"},getVersion:function(){return ilib._ver()||"10.0"},data:{norm:null,zoneinfo:{"Etc/UTC":{o:"0:0",f:"UTC"},local:{f:"local"}},ctype:null,ctype_c:null,ctype_l:null,ctype_m:null,ctype_p:null,ctype_z:null,scriptToRange:null,dateformats:null}};"undefined"!==typeof module&&(module.exports.ilib=ilib);ilib.setAsPseudoLocale=function $ilib$setAsPseudoLocale$($localename$$){$localename$$&&ilib.pseudoLocales.push($localename$$)};
ilib.clearPseudoLocales=function $ilib$clearPseudoLocales$(){ilib.pseudoLocales=["zxx-XX","zxx-Cyrl-XX","zxx-Hans-XX","zxx-Hebr-XX"]};ilib.clearPseudoLocales();ilib._getPlatform=function $ilib$_getPlatform$(){if(!ilib._platform)ilib._platform=typeof environment!=="undefined"?"rhino":typeof process!=="undefined"&&typeof module!=="undefined"?"nodejs":typeof Qt!=="undefined"?"qt":typeof window!=="undefined"?typeof PalmSystem!=="undefined"?"webos":"browser":"unknown";return ilib._platform};
ilib._getBrowser=function $ilib$_getBrowser$(){var $browser$$=void 0;if(ilib._getPlatform()==="browser"&&navigator&&navigator.userAgent){navigator.userAgent.indexOf("Firefox")>-1&&($browser$$="firefox");navigator.userAgent.indexOf("Opera")>-1&&($browser$$="opera");navigator.userAgent.indexOf("Chrome")>-1&&($browser$$="chrome");navigator.userAgent.indexOf(" .NET")>-1&&($browser$$="ie");navigator.userAgent.indexOf("Safari")>-1&&($browser$$="safari")}return $browser$$};
ilib._isGlobal=function $ilib$_isGlobal$($name$$){switch(ilib._getPlatform()){case "rhino":return typeof function(){return typeof global==="object"?global:this}()[$name$$]!=="undefined";case "nodejs":var $root$$=typeof global!=="undefined"?global:this;return $root$$&&typeof $root$$[$name$$]!=="undefined";case "qt":return false;default:return typeof window[$name$$]!=="undefined"}};ilib.setLocale=function $ilib$setLocale$($spec$$){if(typeof $spec$$==="string"||!$spec$$)ilib.locale=$spec$$};
ilib.getLocale=function $ilib$getLocale$(){if(typeof ilib.locale!=="string"){if(typeof navigator!=="undefined"&&typeof navigator.language!=="undefined"){ilib.locale=navigator.language.substring(0,3)+navigator.language.substring(3,5).toUpperCase();if(!ilib.locale){var $lang_locobj$$=typeof navigator.browserLanguage!=="undefined"?navigator.browserLanguage:typeof navigator.userLanguage!=="undefined"?navigator.userLanguage:typeof navigator.systemLanguage!=="undefined"?navigator.systemLanguage:void 0;
if(typeof $lang_locobj$$!=="undefined"&&$lang_locobj$$)ilib.locale=$lang_locobj$$.substring(0,3)+$lang_locobj$$.substring(3,5).toUpperCase()}}else if(typeof PalmSystem!=="undefined")if(typeof PalmSystem.locales!=="undefined"&&typeof PalmSystem.locales.UI!="undefined"&&PalmSystem.locales.UI.length>0)ilib.locale=PalmSystem.locales.UI;else{if(typeof PalmSystem.locale!=="undefined")ilib.locale=PalmSystem.locale}else if(typeof environment!=="undefined"&&typeof environment.user!=="undefined"){if(typeof environment.user.language===
"string"&&environment.user.language.length>0){ilib.locale=environment.user.language;if(typeof environment.user.country==="string"&&environment.user.country.length>0)ilib.locale=ilib.locale+("-"+environment.user.country)}}else if(typeof process!=="undefined"&&typeof process.env!=="undefined"){if(($lang_locobj$$=process.env.LANG||process.env.LC_ALL)&&$lang_locobj$$!=="undefined")ilib.locale=$lang_locobj$$.substring(0,2).toLowerCase()+"-"+$lang_locobj$$.substring(3,5).toUpperCase()}else if(typeof Qt!==
"undefined"){$lang_locobj$$=Qt.locale();$lang_locobj$$.name&&$lang_locobj$$.name.replace("_","-")}ilib.locale=typeof ilib.locale==="string"?ilib.locale:"en-US"}return ilib.locale};ilib.setTimeZone=function $ilib$setTimeZone$($tz$$){ilib.tz=$tz$$||ilib.tz};
ilib.getTimeZone=function $ilib$getTimeZone$(){if(typeof ilib.tz==="undefined"){if(typeof navigator!=="undefined"&&typeof navigator.timezone!=="undefined"){if(navigator.timezone.length>0)ilib.tz=navigator.timezone}else if(typeof PalmSystem!=="undefined"&&typeof PalmSystem.timezone!=="undefined"){if(PalmSystem.timezone.length>0)ilib.tz=PalmSystem.timezone}else if(typeof environment!=="undefined"&&typeof environment.user!=="undefined"){if(typeof environment.user.timezone!=="undefined"&&environment.user.timezone.length>
0)ilib.tz=environment.user.timezone}else if(typeof process!=="undefined"&&typeof process.env!=="undefined"&&process.env.TZ&&process.env.TZ!=="undefined")ilib.tz=process.env.TZ;ilib.tz=ilib.tz||"local"}return ilib.tz};ilib.Loader=function $ilib$Loader$(){};ilib.Loader.prototype.loadFiles=function $ilib$Loader$$loadFiles$(){};ilib.Loader.prototype.listAvailableFiles=function $ilib$Loader$$listAvailableFiles$(){};ilib.Loader.prototype.isAvailable=function $ilib$Loader$$isAvailable$(){};
ilib.setLoaderCallback=function $ilib$setLoaderCallback$($loader$$){if(typeof $loader$$==="object"&&$loader$$ instanceof ilib.Loader||typeof $loader$$==="function"||typeof $loader$$==="undefined"){ilib._load=$loader$$;return true}return false};ilib.getLoader=function $ilib$getLoader$(){return ilib._load};ilib.isArray=function $ilib$isArray$($object$$){return typeof $object$$==="object"?Object.prototype.toString.call($object$$)==="[object Array]":false};
ilib.extend=function $ilib$extend$($object1$$,$object2$$){var $prop$$=void 0;for($prop$$ in $object2$$)$prop$$&&typeof $object2$$[$prop$$]!=="undefined"&&(ilib.isArray($object1$$[$prop$$])&&ilib.isArray($object2$$[$prop$$])?$object1$$[$prop$$]=$object1$$[$prop$$].concat($object2$$[$prop$$]):typeof $object1$$[$prop$$]==="object"&&typeof $object2$$[$prop$$]==="object"?$prop$$!=="ilib"&&($object1$$[$prop$$]=ilib.extend($object1$$[$prop$$],$object2$$[$prop$$])):$object1$$[$prop$$]=$object2$$[$prop$$]);
return $object1$$};ilib._dyncode=!1;ilib.isDynCode=function $ilib$isDynCode$(){return ilib._dyncode};
(function(){ilib.shallowCopy=function $ilib$shallowCopy$($source$$,$target$$){var $prop$$=void 0;if($source$$&&$target$$)for($prop$$ in $source$$)$prop$$!==void 0&&typeof $source$$[$prop$$]!=="undefined"&&($target$$[$prop$$]=$source$$[$prop$$])};ilib.deepCopy=function $ilib$deepCopy$($from$$,$to$$){for(var $prop$$ in $from$$)if($prop$$)if(typeof $from$$[$prop$$]==="object"){$to$$[$prop$$]={};ilib.deepCopy($from$$[$prop$$],$to$$[$prop$$])}else $to$$[$prop$$]=$from$$[$prop$$];return $to$$};ilib.mapString=
function $ilib$mapString$($str$$,$map$$){var $mapped$$="";if($map$$&&$str$$)for(var $i$$=0;$i$$<$str$$.length;$i$$++)var $c$$=$str$$.charAt($i$$),$mapped$$=$mapped$$+($map$$[$c$$]||$c$$);else $mapped$$=$str$$;return $mapped$$};ilib.indexOf=function $ilib$indexOf$($array$$,$obj$$){if(!$array$$||!$obj$$)return-1;if(typeof $array$$.indexOf==="function")return $array$$.indexOf($obj$$);for(var $i$$=0;$i$$<$array$$.length;$i$$++)if($array$$[$i$$]===$obj$$)return $i$$;return-1};ilib.toHexString=function $ilib$toHexString$($string$$,
$limit$$){var $i$$,$result$$="",$lim$$=$limit$$&&$limit$$<9?$limit$$:4;if(!$string$$)return"";for($i$$=0;$i$$<$string$$.length;$i$$++)var $ch$$=$string$$.charCodeAt($i$$).toString(16),$result$$=$result$$+("00000000".substring(0,$lim$$-$ch$$.length)+$ch$$);return $result$$.toUpperCase()};ilib.isDate=function $ilib$isDate$($object$$){return typeof $object$$==="object"?Object.prototype.toString.call($object$$)==="[object Date]":false}})();
ilib.Locale=function $ilib$Locale$($language_parts_spec$$,$i$$,$variant$$,$script$$){if(typeof $i$$==="undefined"){$language_parts_spec$$=$language_parts_spec$$||ilib.getLocale();if(typeof $language_parts_spec$$==="string"){$language_parts_spec$$=$language_parts_spec$$.split("-");for($i$$=0;$i$$<$language_parts_spec$$.length;$i$$++)ilib.Locale._isLanguageCode($language_parts_spec$$[$i$$])?this.language=$language_parts_spec$$[$i$$]:ilib.Locale._isRegionCode($language_parts_spec$$[$i$$])?this.region=
$language_parts_spec$$[$i$$]:ilib.Locale._isScriptCode($language_parts_spec$$[$i$$])?this.script=$language_parts_spec$$[$i$$]:this.variant=$language_parts_spec$$[$i$$];this.language=this.language||void 0;this.region=this.region||void 0;this.script=this.script||void 0;this.variant=this.variant||void 0}else if(typeof $language_parts_spec$$==="object"){this.language=$language_parts_spec$$.language||void 0;this.region=$language_parts_spec$$.region||void 0;this.script=$language_parts_spec$$.script||void 0;
this.variant=$language_parts_spec$$.variant||void 0}}else{if($language_parts_spec$$){$language_parts_spec$$=$language_parts_spec$$.trim();this.language=$language_parts_spec$$.length>0?$language_parts_spec$$.toLowerCase():void 0}else this.language=void 0;if($i$$){$i$$=$i$$.trim();this.region=$i$$.length>0?$i$$.toUpperCase():void 0}else this.region=void 0;if($variant$$){$variant$$=$variant$$.trim();this.variant=$variant$$.length>0?$variant$$:void 0}else this.variant=void 0;if($script$$){$script$$=$script$$.trim();
this.script=$script$$.length>0?$script$$:void 0}else this.script=void 0}this._genSpec()};
ilib.Locale.a2toa3regmap={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",
CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",
IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",
NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",
TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"};
ilib.Locale.a1toa3langmap={ab:"abk",aa:"aar",af:"afr",ak:"aka",sq:"sqi",am:"amh",ar:"ara",an:"arg",hy:"hye",as:"asm",av:"ava",ae:"ave",ay:"aym",az:"aze",bm:"bam",ba:"bak",eu:"eus",be:"bel",bn:"ben",bh:"bih",bi:"bis",bs:"bos",br:"bre",bg:"bul",my:"mya",ca:"cat",ch:"cha",ce:"che",ny:"nya",zh:"zho",cv:"chv",kw:"cor",co:"cos",cr:"cre",hr:"hrv",cs:"ces",da:"dan",dv:"div",nl:"nld",dz:"dzo",en:"eng",eo:"epo",et:"est",ee:"ewe",fo:"fao",fj:"fij",fi:"fin",fr:"fra",ff:"ful",gl:"glg",ka:"kat",de:"deu",el:"ell",
gn:"grn",gu:"guj",ht:"hat",ha:"hau",he:"heb",hz:"her",hi:"hin",ho:"hmo",hu:"hun",ia:"ina",id:"ind",ie:"ile",ga:"gle",ig:"ibo",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",kl:"kal",kn:"kan",kr:"kau",ks:"kas",kk:"kaz",km:"khm",ki:"kik",rw:"kin",ky:"kir",kv:"kom",kg:"kon",ko:"kor",ku:"kur",kj:"kua",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",gv:"glv",mk:"mkd",mg:"mlg",ms:"msa",ml:"mal",mt:"mlt",mi:"mri",mr:"mar",mh:"mah",mn:"mon",na:"nau",nv:"nav",
nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nn:"nno",no:"nor",ii:"iii",nr:"nbl",oc:"oci",oj:"oji",cu:"chu",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",fa:"fas",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",sa:"san",sc:"srd",sd:"snd",se:"sme",sm:"smo",sg:"sag",sr:"srp",gd:"gla",sn:"sna",si:"sin",sk:"slk",sl:"slv",so:"som",st:"sot",az:"azb",es:"spa",su:"sun",sw:"swa",ss:"ssw",sv:"swe",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",bo:"bod",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",
ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",cy:"cym",wo:"wol",fy:"fry",xh:"xho",yi:"yid",yo:"yor",za:"zha",zu:"zul"};ilib.Locale._notLower=function $ilib$Locale$_notLower$($ch$$1_str$$){$ch$$1_str$$=$ch$$1_str$$.charCodeAt(0);return $ch$$1_str$$<97||$ch$$1_str$$>122};ilib.Locale._notUpper=function $ilib$Locale$_notUpper$($ch$$2_str$$){$ch$$2_str$$=$ch$$2_str$$.charCodeAt(0);return $ch$$2_str$$<65||$ch$$2_str$$>90};
ilib.Locale._notDigit=function $ilib$Locale$_notDigit$($ch$$3_str$$){$ch$$3_str$$=$ch$$3_str$$.charCodeAt(0);return $ch$$3_str$$<48||$ch$$3_str$$>57};ilib.Locale._isLanguageCode=function $ilib$Locale$_isLanguageCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length<2||$str$$.length>3)return false;for(var $i$$=0;$i$$<$str$$.length;$i$$++)if(ilib.Locale._notLower($str$$.charAt($i$$)))return false;return true};
ilib.Locale._isRegionCode=function $ilib$Locale$_isRegionCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length<2||$str$$.length>3)return false;if($str$$.length===2)for(var $i$$=0;$i$$<$str$$.length;$i$$++){if(ilib.Locale._notUpper($str$$.charAt($i$$)))return false}else for($i$$=0;$i$$<$str$$.length;$i$$++)if(ilib.Locale._notDigit($str$$.charAt($i$$)))return false;return true};
ilib.Locale._isScriptCode=function $ilib$Locale$_isScriptCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length!==4||ilib.Locale._notUpper($str$$.charAt(0)))return false;for(var $i$$=1;$i$$<4;$i$$++)if(ilib.Locale._notLower($str$$.charAt($i$$)))return false;return true};ilib.Locale.regionAlpha2ToAlpha3=function $ilib$Locale$regionAlpha2ToAlpha3$($alpha2$$){return ilib.Locale.a2toa3regmap[$alpha2$$]||$alpha2$$};
ilib.Locale.languageAlpha1ToAlpha3=function $ilib$Locale$languageAlpha1ToAlpha3$($alpha1$$){return ilib.Locale.a1toa3langmap[$alpha1$$]||$alpha1$$};
ilib.Locale.prototype={_genSpec:function $ilib$Locale$$_genSpec$(){this.spec=this.language||"";if(this.script){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.script}if(this.region){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.region}if(this.variant){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.variant}},getLanguage:function $ilib$Locale$$getLanguage$(){return this.language},getLanguageAlpha3:function $ilib$Locale$$getLanguageAlpha3$(){return ilib.Locale.languageAlpha1ToAlpha3(this.language)},
getRegion:function $ilib$Locale$$getRegion$(){return this.region},getRegionAlpha3:function $ilib$Locale$$getRegionAlpha3$(){return ilib.Locale.regionAlpha2ToAlpha3(this.region)},getScript:function $ilib$Locale$$getScript$(){return this.script},getVariant:function $ilib$Locale$$getVariant$(){return this.variant},getSpec:function $ilib$Locale$$getSpec$(){return this.spec},toString:function $ilib$Locale$$toString$(){return this.getSpec()},equals:function $ilib$Locale$$equals$($other$$){return this.language===
$other$$.language&&this.region===$other$$.region&&this.script===$other$$.script&&this.variant===$other$$.variant},isPseudo:function $ilib$Locale$$isPseudo$(){return ilib.indexOf(ilib.pseudoLocales,this.spec)>-1}};ilib.Locale.locales=[];ilib.Locale.getAvailableLocales=function $ilib$Locale$getAvailableLocales$(){return ilib.Locale.locales};
(function(){ilib.bind=function $ilib$bind$($scope$$,$method$$){function $cloneArray$$($inArrayLike$$,$inOffset$$){for(var $arr$$=[],$i$$=$inOffset$$||0,$l$$=$inArrayLike$$.length;$i$$<$l$$;$i$$++)$arr$$.push($inArrayLike$$[$i$$]);return $arr$$}if($scope$$&&$method$$&&typeof $method$$==="function"){var $args$$=$cloneArray$$(arguments,2);return typeof $method$$.bind==="function"?$method$$.bind.apply($method$$,[$scope$$].concat($args$$)):function(){var $nargs$$=$cloneArray$$(arguments);return $method$$.apply($scope$$,
$args$$.concat($nargs$$))}}};ilib.merge=function $ilib$merge$($object1$$,$object2$$,$replace$$,$name1$$,$name2$$){var $prop$$=void 0,$newObj$$={};for($prop$$ in $object1$$)$prop$$&&typeof $object1$$[$prop$$]!=="undefined"&&($newObj$$[$prop$$]=$object1$$[$prop$$]);for($prop$$ in $object2$$)if($prop$$&&typeof $object2$$[$prop$$]!=="undefined")if(ilib.isArray($object1$$[$prop$$])&&ilib.isArray($object2$$[$prop$$]))if(typeof $replace$$!=="boolean"||!$replace$$){$newObj$$[$prop$$]=[].concat($object1$$[$prop$$]);
$newObj$$[$prop$$]=$newObj$$[$prop$$].concat($object2$$[$prop$$])}else $newObj$$[$prop$$]=$object2$$[$prop$$];else if(typeof $object1$$[$prop$$]==="object"&&typeof $object2$$[$prop$$]==="object")$newObj$$[$prop$$]=ilib.merge($object1$$[$prop$$],$object2$$[$prop$$],$replace$$);else{$name1$$&&($name2$$&&$newObj$$[$prop$$]==$object2$$[$prop$$])&&console.log("Property "+$prop$$+" in "+$name1$$+" is being overridden by the same value in "+$name2$$);$newObj$$[$prop$$]=$object2$$[$prop$$]}return $newObj$$};
ilib.mergeLocData=function $ilib$mergeLocData$($prefix$$,$loc_locale$$,$replaceArrays$$,$returnOne$$){var $data$$=void 0,$loc_locale$$=$loc_locale$$||new ilib.Locale,$foundLocaleData$$=false,$property$$=$prefix$$,$mostSpecific$$;$mostSpecific$$=$data$$=ilib.data[$prefix$$]||{};if($loc_locale$$.getLanguage()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getRegion()){$property$$=
$prefix$$+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()){$loc_locale$$.getLanguage();if($loc_locale$$.getScript()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=
ilib.data[$property$$]}}if($loc_locale$$.getRegion()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}}if($loc_locale$$.getRegion()&&$loc_locale$$.getVariant()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getVariant();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,
ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getScript()&&$loc_locale$$.getRegion()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript()+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getRegion()&&$loc_locale$$.getVariant()){$property$$=
$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getRegion()+"_"+$loc_locale$$.getVariant();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getScript()&&$loc_locale$$.getRegion()&&$loc_locale$$.getVariant()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript()+"_"+$loc_locale$$.getRegion()+"_"+$loc_locale$$.getVariant();
if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=ilib.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}return $foundLocaleData$$?$returnOne$$?$mostSpecific$$:$data$$:void 0};ilib.getLocFiles=function $ilib$getLocFiles$($locale$$,$name$$){var $files$$=[],$filename$$=$name$$||"resources.json",$loc$$1_variant$$=$locale$$||new ilib.Locale,$language$$=$loc$$1_variant$$.getLanguage(),$region$$=$loc$$1_variant$$.getRegion(),$script$$=$loc$$1_variant$$.getScript(),
$loc$$1_variant$$=$loc$$1_variant$$.getVariant();$files$$.push($filename$$);$language$$&&$files$$.push($language$$+"/"+$filename$$);$region$$&&$files$$.push("und/"+$region$$+"/"+$filename$$);if($language$$){$script$$&&$files$$.push($language$$+"/"+$script$$+"/"+$filename$$);$region$$&&$files$$.push($language$$+"/"+$region$$+"/"+$filename$$)}$region$$&&$loc$$1_variant$$&&$files$$.push("und/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);$language$$&&($script$$&&$region$$)&&$files$$.push($language$$+
"/"+$script$$+"/"+$region$$+"/"+$filename$$);$language$$&&($region$$&&$loc$$1_variant$$)&&$files$$.push($language$$+"/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);$language$$&&($script$$&&$region$$&&$loc$$1_variant$$)&&$files$$.push($language$$+"/"+$script$$+"/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);return $files$$};ilib.isEmpty=function $ilib$isEmpty$($obj$$){var $prop$$=void 0;if(!$obj$$)return true;for($prop$$ in $obj$$)if($prop$$&&typeof $obj$$[$prop$$]!=="undefined")return false;
return true};ilib.hashCode=function $ilib$hashCode$($obj$$){function $addHash$$($hash$$,$newValue$$){return($hash$$*65543+$newValue$$)%2147483647}function $stringHash$$($str$$){for(var $hash$$=0,$i$$=0;$i$$<$str$$.length;$i$$++)$hash$$=$addHash$$($hash$$,$str$$.charCodeAt($i$$));return $hash$$}var $hash$$=0;switch(typeof $obj$$){case "undefined":$hash$$=0;break;case "string":$hash$$=$stringHash$$($obj$$);break;case "function":case "number":case "xml":$hash$$=$stringHash$$(""+$obj$$);break;case "boolean":$hash$$=
$obj$$?1:0;break;case "object":var $props$$=[],$i$$0$$;for($i$$0$$ in $obj$$)$obj$$.hasOwnProperty($i$$0$$)&&$props$$.push($i$$0$$);$props$$.sort();for($i$$0$$=0;$i$$0$$<$props$$.length;$i$$0$$++){$hash$$=$addHash$$($hash$$,$stringHash$$($props$$[$i$$0$$]));$hash$$=$addHash$$($hash$$,ilib.hashCode($obj$$[$props$$[$i$$0$$]]))}}return $hash$$};ilib._callLoadData=function $ilib$_callLoadData$($files$$,$sync$$,$params$$,$callback$$){if(typeof ilib._load==="function")return ilib._load($files$$,$sync$$,
$params$$,$callback$$);if(typeof ilib._load==="object"&&typeof ilib._load.loadFiles==="function")return ilib._load.loadFiles($files$$,$sync$$,$params$$,$callback$$)};ilib.loadData=function $ilib$loadData$($dot_params$$2_returnOne$$){var $files$$2_name$$="resources.json",$object$$=void 0,$locale$$=new ilib.Locale(ilib.getLocale()),$sync$$=false,$type$$=void 0,$loadParams$$={},$callback$$=void 0,$nonlocale$$=false,$replace$$=false,$basename$$;if($dot_params$$2_returnOne$$&&typeof $dot_params$$2_returnOne$$.callback===
"function"){if($dot_params$$2_returnOne$$.name)$files$$2_name$$=$dot_params$$2_returnOne$$.name;if($dot_params$$2_returnOne$$.object)$object$$=$dot_params$$2_returnOne$$.object;$dot_params$$2_returnOne$$.locale&&($locale$$=typeof $dot_params$$2_returnOne$$.locale==="string"?new ilib.Locale($dot_params$$2_returnOne$$.locale):$dot_params$$2_returnOne$$.locale);if($dot_params$$2_returnOne$$.type)$type$$=$dot_params$$2_returnOne$$.type;if($dot_params$$2_returnOne$$.loadParams)$loadParams$$=$dot_params$$2_returnOne$$.loadParams;
if($dot_params$$2_returnOne$$.sync)$sync$$=$dot_params$$2_returnOne$$.sync;$dot_params$$2_returnOne$$.nonlocale&&($nonlocale$$=!!$dot_params$$2_returnOne$$.nonlocale);if(typeof $dot_params$$2_returnOne$$.replace==="boolean")$replace$$=$dot_params$$2_returnOne$$.replace;$callback$$=$dot_params$$2_returnOne$$.callback;if($object$$&&!$object$$.cache)$object$$.cache={};if(!$type$$){$dot_params$$2_returnOne$$=$files$$2_name$$.lastIndexOf(".");$type$$=$dot_params$$2_returnOne$$!==-1?$files$$2_name$$.substring($dot_params$$2_returnOne$$+
1):"text"}var $spec$$=(!$nonlocale$$&&$locale$$.getSpec().replace(/-/g,"_")||"root")+","+$files$$2_name$$+","+(""+ilib.hashCode($loadParams$$));if(!$object$$||typeof $object$$.cache[$spec$$]==="undefined"){var $data$$,$dot_params$$2_returnOne$$=$loadParams$$&&$loadParams$$.returnOne;if($type$$==="json"){$basename$$=$files$$2_name$$.substring(0,$files$$2_name$$.lastIndexOf("."));if($nonlocale$$){$basename$$=$basename$$.replace(/\//g,".").replace(/[\\\+\-]/g,"_");$data$$=ilib.data[$basename$$]}else $data$$=
ilib.mergeLocData($basename$$,$locale$$,$replace$$,$dot_params$$2_returnOne$$);if($data$$){$object$$&&($object$$.cache[$spec$$]=$data$$);$callback$$($data$$);return}}if(typeof ilib._load!=="undefined"){$files$$2_name$$=$nonlocale$$?[$files$$2_name$$||"resources.json"]:ilib.getLocFiles($locale$$,$files$$2_name$$);if($type$$!=="json")$loadParams$$.returnOne=true;ilib._callLoadData($files$$2_name$$,$sync$$,$loadParams$$,ilib.bind(this,function($arr$$){if($type$$==="json"){$data$$=ilib.data[$basename$$]||
{};for(var $i$$=0;$i$$<$arr$$.length;$i$$++)typeof $arr$$[$i$$]!=="undefined"&&($data$$=$loadParams$$.returnOne?$arr$$[$i$$]:ilib.merge($data$$,$arr$$[$i$$],$replace$$));$object$$&&($object$$.cache[$spec$$]=$data$$);$callback$$($data$$)}else{for($i$$=$arr$$.length-1;$i$$>-1&&!$arr$$[$i$$];)$i$$--;if($i$$>-1){$object$$&&($object$$.cache[$spec$$]=$arr$$[$i$$]);$callback$$($arr$$[$i$$])}else $callback$$(void 0)}}))}else{$type$$==="json"&&($data$$=ilib.data[$basename$$]);$object$$&&$data$$&&($object$$.cache[$spec$$]=
$data$$);$callback$$($data$$)}}else $callback$$($object$$.cache[$spec$$])}}})();
ilib.LocaleInfo=function $ilib$LocaleInfo$($locale$$,$options$$){var $sync$$=true,$loadParams$$=void 0;this.info=ilib.LocaleInfo.defaultInfo;switch(typeof $locale$$){case "string":this.locale=new ilib.Locale($locale$$);break;default:case "undefined":this.locale=new ilib.Locale;break;case "object":this.locale=$locale$$}if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")$loadParams$$=$options$$.loadParams}if(!ilib.LocaleInfo.cache)ilib.LocaleInfo.cache=
{};ilib.loadData({object:ilib.LocaleInfo,locale:this.locale,name:"localeinfo.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$=ilib.LocaleInfo.defaultInfo,$spec$$=this.locale.getSpec().replace(/-/g,"_");ilib.LocaleInfo.cache[$spec$$]=$info$$}this.info=$info$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};ilib.LocaleInfo.defaultInfo=ilib.data.localeinfo;
ilib.LocaleInfo.defaultInfo=ilib.LocaleInfo.defaultInfo||{scripts:["Latn"],timezone:"Etc/UTC",units:"metric",calendar:"gregorian",clock:"24",currency:"USD",firstDayOfWeek:1,meridiems:"gregorian",numfmt:{currencyFormats:{common:"{s}{n}",commonNegative:"{s}-{n}",iso:"{s}{n}",isoNegative:"{s}-{n}"},script:"Latn",decimalChar:",",groupChar:".",prigroupSize:3,secgroupSize:0,pctFmt:"{n}%",negativepctFmt:"-{n}%",pctChar:"%",roundingMode:"halfdown",exponential:"e",digits:""}};
ilib.LocaleInfo.prototype={getLanguageName:function $ilib$LocaleInfo$$getLanguageName$(){return this.info["language.name"]},getRegionName:function $ilib$LocaleInfo$$getRegionName$(){return this.info["region.name"]},getClock:function $ilib$LocaleInfo$$getClock$(){return this.info.clock},getLocale:function $ilib$LocaleInfo$$getLocale$(){return this.locale},getUnits:function $ilib$LocaleInfo$$getUnits$(){return this.info.units},getUnitFormat:function $ilib$LocaleInfo$$getUnitFormat$(){return this.info.unitfmt},
getCalendar:function $ilib$LocaleInfo$$getCalendar$(){return this.info.calendar},getFirstDayOfWeek:function $ilib$LocaleInfo$$getFirstDayOfWeek$(){return this.info.firstDayOfWeek},getWeekEndStart:function $ilib$LocaleInfo$$getWeekEndStart$(){return this.info.weekendStart},getWeekEndEnd:function $ilib$LocaleInfo$$getWeekEndEnd$(){return this.info.weekendEnd},getTimeZone:function $ilib$LocaleInfo$$getTimeZone$(){return this.info.timezone},getDecimalSeparator:function $ilib$LocaleInfo$$getDecimalSeparator$(){return this.info.numfmt.decimalChar},
getNativeDecimalSeparator:function $ilib$LocaleInfo$$getNativeDecimalSeparator$(){return this.info.native_numfmt&&this.info.native_numfmt.decimalChar||this.info.numfmt.decimalChar},getGroupingSeparator:function $ilib$LocaleInfo$$getGroupingSeparator$(){return this.info.numfmt.groupChar},getNativeGroupingSeparator:function $ilib$LocaleInfo$$getNativeGroupingSeparator$(){return this.info.native_numfmt&&this.info.native_numfmt.groupChar||this.info.numfmt.groupChar},getPrimaryGroupingDigits:function $ilib$LocaleInfo$$getPrimaryGroupingDigits$(){return typeof this.info.numfmt.prigroupSize!==
"undefined"&&this.info.numfmt.prigroupSize||0},getSecondaryGroupingDigits:function $ilib$LocaleInfo$$getSecondaryGroupingDigits$(){return this.info.numfmt.secgroupSize||0},getPercentageFormat:function $ilib$LocaleInfo$$getPercentageFormat$(){return this.info.numfmt.pctFmt},getNegativePercentageFormat:function $ilib$LocaleInfo$$getNegativePercentageFormat$(){return this.info.numfmt.negativepctFmt},getPercentageSymbol:function $ilib$LocaleInfo$$getPercentageSymbol$(){return this.info.numfmt.pctChar||
"%"},getExponential:function $ilib$LocaleInfo$$getExponential$(){return this.info.numfmt.exponential},getNativeExponential:function $ilib$LocaleInfo$$getNativeExponential$(){return this.info.native_numfmt&&this.info.native_numfmt.exponential||this.info.numfmt.exponential},getNativePercentageSymbol:function $ilib$LocaleInfo$$getNativePercentageSymbol$(){return this.info.native_numfmt&&this.info.native_numfmt.pctChar||this.info.numfmt.pctChar||"%"},getNegativeNumberFormat:function $ilib$LocaleInfo$$getNegativeNumberFormat$(){return this.info.numfmt.negativenumFmt},
getCurrencyFormats:function $ilib$LocaleInfo$$getCurrencyFormats$(){return this.info.numfmt.currencyFormats},getCurrency:function $ilib$LocaleInfo$$getCurrency$(){return this.info.currency},getDigitsStyle:function $ilib$LocaleInfo$$getDigitsStyle$(){return this.info.numfmt.useNative?"native":typeof this.info.native_numfmt!=="undefined"?"optional":"western"},getDigits:function $ilib$LocaleInfo$$getDigits$(){return this.info.numfmt.digits},getNativeDigits:function $ilib$LocaleInfo$$getNativeDigits$(){return this.info.numfmt.useNative&&
this.info.numfmt.digits||this.info.native_numfmt&&this.info.native_numfmt.digits},getRoundingMode:function $ilib$LocaleInfo$$getRoundingMode$(){return this.info.numfmt.roundingMode},getDefaultScript:function $ilib$LocaleInfo$$getDefaultScript$(){return this.info.scripts?this.info.scripts[0]:"Latn"},getScript:function $ilib$LocaleInfo$$getScript$(){return this.locale.getScript()||this.getDefaultScript()},getAllScripts:function $ilib$LocaleInfo$$getAllScripts$(){return this.info.scripts||["Latn"]},
getMeridiemsStyle:function $ilib$LocaleInfo$$getMeridiemsStyle$(){return this.info.meridiems||"gregorian"}};ilib.JulianDay=function $ilib$JulianDay$($num$$){this.jd=$num$$;this.days=Math.floor(this.jd);this.frac=$num$$-this.days};
ilib.JulianDay.prototype={getDays:function $ilib$JulianDay$$getDays$(){return this.days},setDays:function $ilib$JulianDay$$setDays$($days$$){this.days=Math.floor($days$$);this.jd=this.days+this.frac},getDayFraction:function $ilib$JulianDay$$getDayFraction$(){return this.frac},setDayFraction:function $ilib$JulianDay$$setDayFraction$($fraction$$){this.frac=$fraction$$-Math.floor($fraction$$);this.jd=this.days+this.frac},getDate:function $ilib$JulianDay$$getDate$(){return this.jd},setDate:function $ilib$JulianDay$$setDate$($num$$){this.jd=
$num$$},addDate:function $ilib$JulianDay$$addDate$($offset$$){if(typeof $offset$$==="number"){this.jd=this.jd+$offset$$;this.days=Math.floor(this.jd);this.frac=this.jd-this.days}}};ilib.Cal=function $ilib$Cal$(){};ilib.Cal._dynMap={coptic:{c:"Coptic"},ethiopic:{c:"Ethiopic"},gregorian:{c:"Gregorian"},han:{c:"Han"},hebrew:{c:"Hebrew"},islamic:{c:"Islamic"},julian:{c:"Julian"},persian:{c:"Persian",f:"persianastro"},"persian-algo":{c:"PersianAlgo",f:"persian"},thaisolar:{c:"ThaiSolar"}};
ilib.Cal._dynLoadCalendar=function $ilib$Cal$_dynLoadCalendar$($entry_name$$){if($entry_name$$=ilib.Cal._dynMap[$entry_name$$])return $entry_name$$.c};
ilib.Cal.newInstance=function $ilib$Cal$newInstance$($options$$){var $cons_locale$$=$options$$&&$options$$.locale,$type$$=$options$$&&$options$$.type;$cons_locale$$||($cons_locale$$=new ilib.Locale);$type$$||($type$$=(new ilib.LocaleInfo($cons_locale$$)).getCalendar());ilib.isDynCode()&&ilib.Cal._dynLoadCalendar($type$$);return($cons_locale$$=ilib.Cal._constructors[$type$$])&&new $cons_locale$$($options$$)};ilib.Cal._constructors={};
ilib.Cal.getCalendars=function $ilib$Cal$getCalendars$(){var $arr$$=[],$c$$;if(ilib.isDynCode())for($c$$ in ilib.Cal._dynMap)ilib.Cal._dynLoadCalendar($c$$);for($c$$ in ilib.Cal._constructors)$c$$&&ilib.Cal._constructors[$c$$]&&$arr$$.push($c$$);return $arr$$};
ilib.Cal.prototype={getType:function $ilib$Cal$$getType$(){throw"Cannot call methods of abstract class ilib.Cal";},getNumMonths:function $ilib$Cal$$getNumMonths$(){throw"Cannot call methods of abstract class ilib.Cal";},getMonLength:function $ilib$Cal$$getMonLength$(){throw"Cannot call methods of abstract class ilib.Cal";},isLeapYear:function $ilib$Cal$$isLeapYear$(){throw"Cannot call methods of abstract class ilib.Cal";}};
ilib.Date=function $ilib$Date$($options$$){if(!$options$$||typeof $options$$.noinstance==="undefined")return ilib.Date.newInstance($options$$)};ilib.Date._dynMap={coptic:{c:"CopticDate"},ethiopic:{c:"EthiopicDate"},gregorian:{c:"GregDate"},han:{c:"HanDate"},hebrew:{c:"HebrewDate"},islamic:{c:"IslamicDate"},julian:{c:"JulDate"},persian:{c:"PersDate",f:"persianastro"},"persian-algo":{c:"PersAlgoDate",f:"persian"},thaisolar:{c:"ThaiSolarDate"}};
ilib.Date._dynLoadCalendar=function $ilib$Date$_dynLoadCalendar$($entry$$1_name$$){if($entry$$1_name$$=ilib.Date._dynMap[$entry$$1_name$$])return $entry$$1_name$$.c};ilib.Date._constructors={};
ilib.Date.newInstance=function $ilib$Date$newInstance$($options$$){var $cons$$1_locale$$,$type$$;if($options$$){$options$$.locale&&($cons$$1_locale$$=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale);$type$$=$options$$.type||$options$$.calendar}$cons$$1_locale$$||($cons$$1_locale$$=new ilib.Locale);$type$$||($type$$=(new ilib.LocaleInfo($cons$$1_locale$$)).getCalendar());if(ilib.isDynCode()){ilib.Date._dynLoadCalendar($type$$);ilib.Cal._dynLoadCalendar($type$$);
if(!ilib.Date.Gregorian||ilib.Date.Gregorian.stub){ilib.Date._dynLoadCalendar("gregorian");ilib.Cal._dynLoadCalendar("gregorian")}}return($cons$$1_locale$$=ilib.Date._constructors[$type$$])&&new $cons$$1_locale$$($options$$)};
ilib.Date._dateToIlib=function $ilib$Date$_dateToIlib$($inDate$$,$timezone$$,$locale$$){if(typeof $inDate$$==="undefined"||$inDate$$===null)return $inDate$$;if($inDate$$ instanceof ilib.Date)return $inDate$$;if(ilib.isDate($inDate$$))return ilib.Date.newInstance({unixtime:$inDate$$.getTime(),timezone:$timezone$$,locale:$locale$$});if($inDate$$ instanceof ilib.JulianDay)return ilib.Date.newInstance({jd:$inDate$$,timezone:$timezone$$,locale:$locale$$});if(typeof $inDate$$==="number")return ilib.Date.newInstance({unixtime:$inDate$$,
timezone:$timezone$$,locale:$locale$$});if(typeof $inDate$$==="object")return ilib.Date.newInstance($inDate$$);typeof $inDate$$==="string"&&($inDate$$=new Date($inDate$$));return ilib.Date.newInstance({unixtime:$inDate$$.getTime(),timezone:$timezone$$,locale:$locale$$})};
ilib.Date.prototype={getType:function $ilib$Date$$getType$(){return"ilib.Date"},getTime:function $ilib$Date$$getTime$(){return this.rd.getTime()},getTimeExtended:function $ilib$Date$$getTimeExtended$(){return this.rd.getTimeExtended()},setTime:function $ilib$Date$$setTime$($millis$$){this.rd=this.newRd({unixtime:$millis$$,cal:this.cal});this._calcDateComponents()},getDays:function $ilib$Date$$getDays$(){return this.day},getMonths:function $ilib$Date$$getMonths$(){return this.month},getYears:function $ilib$Date$$getYears$(){return this.year},
getHours:function $ilib$Date$$getHours$(){return this.hour},getMinutes:function $ilib$Date$$getMinutes$(){return this.minute},getSeconds:function $ilib$Date$$getSeconds$(){return this.second},getMilliseconds:function $ilib$Date$$getMilliseconds$(){return this.millisecond},setDays:function $ilib$Date$$setDays$($day$$){this.day=parseInt($day$$,10)||1;this.rd._setDateComponents(this)},setMonths:function $ilib$Date$$setMonths$($month$$){this.month=parseInt($month$$,10)||1;this.rd._setDateComponents(this)},
setYears:function $ilib$Date$$setYears$($year$$){this.year=parseInt($year$$,10)||0;this.rd._setDateComponents(this)},setHours:function $ilib$Date$$setHours$($hour$$){this.hour=parseInt($hour$$,10)||0;this.rd._setDateComponents(this)},setMinutes:function $ilib$Date$$setMinutes$($minute$$){this.minute=parseInt($minute$$,10)||0;this.rd._setDateComponents(this)},setSeconds:function $ilib$Date$$setSeconds$($second$$){this.second=parseInt($second$$,10)||0;this.rd._setDateComponents(this)},setMilliseconds:function $ilib$Date$$setMilliseconds$($milli$$){this.millisecond=
parseInt($milli$$,10)||0;this.rd._setDateComponents(this)},before:function $ilib$Date$$before$($dow$$){return this.cal.newDateInstance({rd:this.rd.before($dow$$,this.offset),timezone:this.timezone})},after:function $ilib$Date$$after$($dow$$){return this.cal.newDateInstance({rd:this.rd.after($dow$$,this.offset),timezone:this.timezone})},onOrBefore:function $ilib$Date$$onOrBefore$($dow$$){return this.cal.newDateInstance({rd:this.rd.onOrBefore($dow$$,this.offset),timezone:this.timezone})},onOrAfter:function $ilib$Date$$onOrAfter$($dow$$){return this.cal.newDateInstance({rd:this.rd.onOrAfter($dow$$,
this.offset),timezone:this.timezone})},getJSDate:function $ilib$Date$$getJSDate$(){var $unix$$=this.rd.getTimeExtended();return isNaN($unix$$)?void 0:new Date($unix$$)},getRataDie:function $ilib$Date$$getRataDie$(){return this.rd.getRataDie()},setRd:function $ilib$Date$$setRd$($rd$$){this.rd=this.newRd({rd:$rd$$,cal:this.cal});this._calcDateComponents()},getJulianDay:function $ilib$Date$$getJulianDay$(){return this.rd.getJulianDay()},setJulianDay:function $ilib$Date$$setJulianDay$($date$$){this.rd=
this.newRd({julianday:typeof $date$$==="object"?$date$$.getDate():$date$$,cal:this.cal});this._calcDateComponents()},getTimeZone:function $ilib$Date$$getTimeZone$(){return this.timezone||"local"},setTimeZone:function $ilib$Date$$setTimeZone$($tzName$$){if(!$tzName$$||$tzName$$==="")this.tz=this.timezone=void 0;else if(typeof $tzName$$==="string"){this.timezone=$tzName$$;this.tz=void 0;this._calcDateComponents()}},firstSunday:function $ilib$Date$$firstSunday$($year$$){return this.newRd({rd:this.newRd({year:$year$$,
month:1,day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}).onOrAfter(4),cal:this.cal}).before(0)},getWeekOfYear:function $ilib$Date$$getWeekOfYear$(){var $rd$$=Math.floor(this.rd.getRataDie()),$nextYear_year$$=this._calcYear($rd$$+this.offset),$yearStart$$=this.firstSunday($nextYear_year$$);if($rd$$<$yearStart$$)$yearStart$$=this.firstSunday($nextYear_year$$-1);else{$nextYear_year$$=this.firstSunday($nextYear_year$$+1);$rd$$>=$nextYear_year$$&&($yearStart$$=$nextYear_year$$)}return Math.floor(($rd$$-
$yearStart$$)/7)+1},getWeekOfMonth:function $ilib$Date$$getWeekOfMonth$($first$$1_locale$$){var $li_weekStart$$=new ilib.LocaleInfo($first$$1_locale$$),$first$$1_locale$$=this.newRd({year:this._calcYear(this.rd.getRataDie()+this.offset),month:this.getMonths(),day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}),$li_weekStart$$=$first$$1_locale$$.onOrAfter($li_weekStart$$.getFirstDayOfWeek());$li_weekStart$$-$first$$1_locale$$.getRataDie()>3&&($li_weekStart$$=$li_weekStart$$-7);return Math.floor((this.rd.getRataDie()-
$li_weekStart$$)/7)+1}};
(function(){ilib.signum=function $ilib$signum$($num$$){var $n$$=$num$$;if(typeof $num$$==="string")$n$$=parseInt($num$$,10);else if(typeof $num$$!=="number")return 1;return $n$$<0?-1:1};ilib._roundFnc={};ilib._roundFnc.floor=function $ilib$_roundFnc$floor$($num$$){return Math.floor($num$$)};ilib._roundFnc.ceiling=function $ilib$_roundFnc$ceiling$($num$$){return Math.ceil($num$$)};ilib._roundFnc.down=function $ilib$_roundFnc$down$($num$$){return $num$$<0?Math.ceil($num$$):Math.floor($num$$)};ilib._roundFnc.up=
function $ilib$_roundFnc$up$($num$$){return $num$$<0?Math.floor($num$$):Math.ceil($num$$)};ilib._roundFnc.halfup=function $ilib$_roundFnc$halfup$($num$$){return $num$$<0?Math.ceil($num$$-0.5):Math.floor($num$$+0.5)};ilib._roundFnc.halfdown=function $ilib$_roundFnc$halfdown$($num$$){return $num$$<0?Math.floor($num$$+0.5):Math.ceil($num$$-0.5)};ilib._roundFnc.halfeven=function $ilib$_roundFnc$halfeven$($num$$){return Math.floor($num$$)%2===0?Math.ceil($num$$-0.5):Math.floor($num$$+0.5)};ilib._roundFnc.halfodd=
function $ilib$_roundFnc$halfodd$($num$$){return Math.floor($num$$)%2!==0?Math.ceil($num$$-0.5):Math.floor($num$$+0.5)};ilib.mod=function $ilib$mod$($dividend$$,$modulus$$){if($modulus$$==0)return 0;var $x$$=$dividend$$%$modulus$$;return $x$$<0?$x$$+$modulus$$:$x$$};ilib.amod=function $ilib$amod$($dividend$$,$modulus$$){if($modulus$$==0)return 0;var $x$$=$dividend$$%$modulus$$;return $x$$<=0?$x$$+$modulus$$:$x$$}})();
ilib.String=function $ilib$String$($string$$){this.str=typeof $string$$==="object"?$string$$ instanceof ilib.String?$string$$.str:$string$$.toString():typeof $string$$==="string"?new String($string$$):"";this.length=this.str.length;this.cpLength=-1;this.localeSpec=ilib.getLocale()};ilib.String._isSurrogate=function $ilib$String$_isSurrogate$($ch$$4_n$$){$ch$$4_n$$=$ch$$4_n$$.charCodeAt(0);return $ch$$4_n$$>=56320&&$ch$$4_n$$<=57343||$ch$$4_n$$>=55296&&$ch$$4_n$$<=56319};
ilib.String.fromCodePoint=function $ilib$String$fromCodePoint$($codepoint$$){if($codepoint$$<65536)return String.fromCharCode($codepoint$$);var $low$$=$codepoint$$&65535;return String.fromCharCode(55296|(Math.floor($codepoint$$/65536)-1&15)<<6|($low$$&64512)>>10)+String.fromCharCode(56320|$low$$&1023)};
ilib.String.toCodePoint=function $ilib$String$toCodePoint$($str$$,$index$$){if(!$str$$||$str$$.length===0)return-1;var $code$$=-1,$high$$=$str$$.charCodeAt($index$$);if($high$$>=55296&&$high$$<=56319){if($str$$.length>$index$$+1){var $low$$=$str$$.charCodeAt($index$$+1);$low$$>=56320&&$low$$<=57343&&($code$$=(($high$$&960)>>6)+1<<16|($high$$&63)<<10|$low$$&1023)}}else $code$$=$high$$;return $code$$};
ilib.String.loadPlurals=function $ilib$String$loadPlurals$($sync$$,$loc$$2_locale$$,$loadParams$$,$onLoad$$){var $loc$$2_locale$$=$loc$$2_locale$$?typeof $loc$$2_locale$$==="string"?new ilib.Locale($loc$$2_locale$$):$loc$$2_locale$$:new ilib.Locale(ilib.getLocale()),$spec$$=$loc$$2_locale$$.getLanguage();ilib.data["plurals_"+$spec$$]?$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data["plurals_"+$spec$$]):ilib.loadData({name:"plurals.json",object:ilib.String,locale:$loc$$2_locale$$,sync:$sync$$,
loadParams:$loadParams$$,callback:ilib.bind(this,function($plurals$$){$plurals$$||(ilib.String.cache[$spec$$]={});ilib.data["plurals_"+$spec$$]=$plurals$$||{};$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data["plurals_"+$spec$$])})})};
ilib.String._fncs={firstProp:function $ilib$String$_fncs$firstProp$($obj$$){for(var $p$$ in $obj$$)if($p$$&&$obj$$[$p$$])return $p$$},getValue:function $ilib$String$_fncs$getValue$($obj$$,$n$$){if(typeof $obj$$==="object"){var $subrule$$=ilib.String._fncs.firstProp($obj$$);return ilib.String._fncs[$subrule$$]($obj$$[$subrule$$],$n$$)}return typeof $obj$$==="string"?$n$$:$obj$$},matchRangeContinuous:function $ilib$String$_fncs$matchRangeContinuous$($n$$,$range$$){for(var $num$$ in $range$$)if(typeof $num$$!==
"undefined"&&typeof $range$$[$num$$]!=="undefined"){var $obj$$=$range$$[$num$$];if(typeof $obj$$==="number"){if($n$$===$range$$[$num$$])return true}else if(Object.prototype.toString.call($obj$$)==="[object Array]"&&$n$$>=$obj$$[0]&&$n$$<=$obj$$[1])return true}return false},matchRange:function $ilib$String$_fncs$matchRange$($n$$,$range$$){return Math.floor($n$$)!==$n$$?false:ilib.String._fncs.matchRangeContinuous($n$$,$range$$)},is:function $ilib$String$_fncs$is$($rule$$,$n$$){var $left$$=ilib.String._fncs.getValue($rule$$[0],
$n$$),$right$$=ilib.String._fncs.getValue($rule$$[1],$n$$);return $left$$==$right$$},isnot:function $ilib$String$_fncs$isnot$($rule$$,$n$$){return ilib.String._fncs.getValue($rule$$[0],$n$$)!=ilib.String._fncs.getValue($rule$$[1],$n$$)},inrange:function $ilib$String$_fncs$inrange$($rule$$,$n$$){return ilib.String._fncs.matchRange(ilib.String._fncs.getValue($rule$$[0],$n$$),$rule$$[1])},notin:function $ilib$String$_fncs$notin$($rule$$,$n$$){return!ilib.String._fncs.matchRange(ilib.String._fncs.getValue($rule$$[0],
$n$$),$rule$$[1])},within:function $ilib$String$_fncs$within$($rule$$,$n$$){return ilib.String._fncs.matchRangeContinuous(ilib.String._fncs.getValue($rule$$[0],$n$$),$rule$$[1])},mod:function $ilib$String$_fncs$mod$($rule$$,$n$$){return ilib.mod(ilib.String._fncs.getValue($rule$$[0],$n$$),ilib.String._fncs.getValue($rule$$[1],$n$$))},n:function $ilib$String$_fncs$n$($rule$$,$n$$){return $n$$},or:function $ilib$String$_fncs$or$($rule$$,$n$$){return ilib.String._fncs.getValue($rule$$[0],$n$$)||ilib.String._fncs.getValue($rule$$[1],
$n$$)},and:function $ilib$String$_fncs$and$($rule$$,$n$$){return ilib.String._fncs.getValue($rule$$[0],$n$$)&&ilib.String._fncs.getValue($rule$$[1],$n$$)}};
ilib.String.prototype={_length:function $ilib$String$$_length$(){return this.str.length},format:function $ilib$String$$format$($params$$){var $formatted$$=this.str;if($params$$){var $regex$$,$p$$;for($p$$ in $params$$)if(typeof $params$$[$p$$]!=="undefined"){$regex$$=RegExp("{"+$p$$+"}","g");$formatted$$=$formatted$$.replace($regex$$,$params$$[$p$$])}}return $formatted$$.toString()},formatChoice:function $ilib$String$$formatChoice$($argIndex$$,$params$$){var $arg$$=this.str.split("|"),$type$$=typeof $argIndex$$,
$limits$$=[],$strings$$=[],$i$$,$limit$$1_parts$$1_ruleset_start$$,$result$$=void 0,$defaultCase$$="";if(this.str.length===0)return"";for($i$$=0;$i$$<$arg$$.length;$i$$++){$limit$$1_parts$$1_ruleset_start$$=$arg$$[$i$$].split("#");if($limit$$1_parts$$1_ruleset_start$$.length>2){$limits$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[0];$limit$$1_parts$$1_ruleset_start$$=$limit$$1_parts$$1_ruleset_start$$.shift();$strings$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$.join("#")}else if($limit$$1_parts$$1_ruleset_start$$.length===
2){$limits$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[0];$strings$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[1]}else throw"syntax error in choice format pattern: "+$arg$$[$i$$];}for($i$$=0;$i$$<$limits$$.length;$i$$++)if($limits$$[$i$$].length===0)$defaultCase$$=new ilib.String($strings$$[$i$$]);else switch($type$$){case "number":$arg$$=parseInt($argIndex$$,10);if($limits$$[$i$$].substring(0,2)==="<="){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(2));if($arg$$<=$limit$$1_parts$$1_ruleset_start$$){$result$$=
new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}}else if($limits$$[$i$$].substring(0,2)===">="){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(2));if($arg$$>=$limit$$1_parts$$1_ruleset_start$$){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}}else if($limits$$[$i$$].charAt(0)==="<"){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(1));if($arg$$<$limit$$1_parts$$1_ruleset_start$$){$result$$=new ilib.String($strings$$[$i$$]);
$i$$=$limits$$.length}}else if($limits$$[$i$$].charAt(0)===">"){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(1));if($arg$$>$limit$$1_parts$$1_ruleset_start$$){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}}else{this.locale=this.locale||new ilib.Locale(this.localeSpec);switch($limits$$[$i$$]){case "zero":case "one":case "two":case "few":case "many":if(($limit$$1_parts$$1_ruleset_start$$=ilib.data["plurals_"+this.locale.getLanguage()])&&ilib.String._fncs.getValue($limit$$1_parts$$1_ruleset_start$$[$limits$$[$i$$]],
$arg$$)){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}break;default:var $dash_end$$=$limits$$[$i$$].indexOf("-");if($dash_end$$!==-1){$limit$$1_parts$$1_ruleset_start$$=$limits$$[$i$$].substring(0,$dash_end$$);$dash_end$$=$limits$$[$i$$].substring($dash_end$$+1);if($arg$$>=parseInt($limit$$1_parts$$1_ruleset_start$$,10)&&$arg$$<=parseInt($dash_end$$,10)){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}}else if($arg$$===parseInt($limits$$[$i$$],10)){$result$$=
new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}}}break;case "boolean":if($limits$$[$i$$]==="true"&&$argIndex$$===true){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}else if($limits$$[$i$$]==="false"&&$argIndex$$===false){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}break;case "string":if(RegExp($limits$$[$i$$],"i").test($argIndex$$)){$result$$=new ilib.String($strings$$[$i$$]);$i$$=$limits$$.length}break;case "object":throw"syntax error: fmtChoice parameter for the argument index cannot be an object";
}$result$$||($result$$=$defaultCase$$||new ilib.String(""));$result$$=$result$$.format($params$$);return $result$$.toString()},toString:function $ilib$String$$toString$(){return this.str.toString()},valueOf:function $ilib$String$$valueOf$(){return this.str.valueOf()},charAt:function $ilib$String$$charAt$($index$$){return new ilib.String(this.str.charAt($index$$))},charCodeAt:function $ilib$String$$charCodeAt$($index$$){return this.str.charCodeAt($index$$)},concat:function $ilib$String$$concat$($strings$$){return new ilib.String(this.str.concat($strings$$))},
indexOf:function $ilib$String$$indexOf$($searchValue$$,$start$$){return this.str.indexOf($searchValue$$,$start$$)},lastIndexOf:function $ilib$String$$lastIndexOf$($searchValue$$,$start$$){return this.str.lastIndexOf($searchValue$$,$start$$)},match:function $ilib$String$$match$($regexp$$){return this.str.match($regexp$$)},replace:function $ilib$String$$replace$($searchValue$$,$newValue$$){return new ilib.String(this.str.replace($searchValue$$,$newValue$$))},search:function $ilib$String$$search$($regexp$$){return this.str.search($regexp$$)},
slice:function $ilib$String$$slice$($start$$,$end$$){return new ilib.String(this.str.slice($start$$,$end$$))},split:function $ilib$String$$split$($separator$$,$limit$$){return this.str.split($separator$$,$limit$$)},substr:function $ilib$String$$substr$($start$$,$length$$){ilib._getPlatform()==="qt"&&typeof $length$$==="undefined"&&($length$$=this.str.length-$start$$);return new ilib.String(this.str.substr($start$$,$length$$))},substring:function $ilib$String$$substring$($from$$,$to$$){return this.str.substring($from$$,
$to$$)},toLowerCase:function $ilib$String$$toLowerCase$(){return this.str.toLowerCase()},toUpperCase:function $ilib$String$$toUpperCase$(){return this.str.toUpperCase()},_toCodePoint:function $ilib$String$$_toCodePoint$($index$$){return ilib.String.toCodePoint(this.str,$index$$)},forEach:function $ilib$String$$forEach$($callback$$){if(typeof $callback$$==="function")for(var $it$$=this.charIterator();$it$$.hasNext();)$callback$$($it$$.next())},forEachCodePoint:function $ilib$String$$forEachCodePoint$($callback$$){if(typeof $callback$$===
"function")for(var $it$$=this.iterator();$it$$.hasNext();)$callback$$($it$$.next())},iterator:function $ilib$String$$iterator$(){return new function _iterator($istring$$){this.index=0;this.hasNext=function $this$hasNext$(){return this.index<$istring$$.str.length};this.next=function $this$next$(){if(this.index<$istring$$.str.length){var $num$$=$istring$$._toCodePoint(this.index);this.index=this.index+($num$$>65535?2:1)}else $num$$=-1;return $num$$}}(this)},charIterator:function $ilib$String$$charIterator$(){return new function _chiterator($istring$$){this.index=
0;this.hasNext=function $this$hasNext$(){return this.index<$istring$$.str.length};this.next=function $this$next$(){var $ch$$;if(this.index<$istring$$.str.length){$ch$$=$istring$$.str.charAt(this.index);if(ilib.String._isSurrogate($ch$$)&&this.index+1<$istring$$.str.length&&ilib.String._isSurrogate($istring$$.str.charAt(this.index+1))){this.index++;$ch$$=$ch$$+$istring$$.str.charAt(this.index)}this.index++}return $ch$$}}(this)},codePointAt:function $ilib$String$$codePointAt$($count$$6_index$$){if($count$$6_index$$<
0)return-1;for(var $it$$=this.iterator(),$ch$$;$count$$6_index$$>=0&&$it$$.hasNext();$count$$6_index$$--)$ch$$=$it$$.next();return $count$$6_index$$<0?$ch$$:-1},setLocale:function $ilib$String$$setLocale$($locale$$,$sync$$,$loadParams$$,$onLoad$$){if(typeof $locale$$==="object")this.locale=$locale$$;else{this.localeSpec=$locale$$;this.locale=new ilib.Locale($locale$$)}ilib.String.loadPlurals(typeof $sync$$!=="undefined"?$sync$$:true,this.locale,$loadParams$$,$onLoad$$)},getLocale:function $ilib$String$$getLocale$(){return(this.locale?
this.locale.getSpec():this.localeSpec)||ilib.getLocale()},codePointLength:function $ilib$String$$codePointLength$(){if(this.cpLength===-1){var $it$$=this.iterator();for(this.cpLength=0;$it$$.hasNext();){this.cpLength++;$it$$.next()}}return this.cpLength}};ilib.Cal.Gregorian=function $ilib$Cal$Gregorian$(){this.type="gregorian"};ilib.Cal.Gregorian.monthLengths=[31,28,31,30,31,30,31,31,30,31,30,31];ilib.Cal.Gregorian.prototype.getNumMonths=function $ilib$Cal$Gregorian$$getNumMonths$(){return 12};
ilib.Cal.Gregorian.prototype.getMonLength=function $ilib$Cal$Gregorian$$getMonLength$($month$$,$year$$){return $month$$!==2||!this.isLeapYear($year$$)?ilib.Cal.Gregorian.monthLengths[$month$$-1]:29};
ilib.Cal.Gregorian.prototype.isLeapYear=function $ilib$Cal$Gregorian$$isLeapYear$($y$$35_year$$){var $y$$35_year$$=typeof $y$$35_year$$==="number"?$y$$35_year$$:$y$$35_year$$.getYears(),$centuries$$=ilib.mod($y$$35_year$$,400);return ilib.mod($y$$35_year$$,4)===0&&$centuries$$!==100&&$centuries$$!==200&&$centuries$$!==300};ilib.Cal.Gregorian.prototype.getType=function $ilib$Cal$Gregorian$$getType$(){return this.type};ilib.Cal.Gregorian.prototype.newDateInstance=function $ilib$Cal$Gregorian$$newDateInstance$($options$$){return new ilib.Date.GregDate($options$$)};
ilib.Cal._constructors.gregorian=ilib.Cal.Gregorian;
ilib.Date.RataDie=function $ilib$Date$RataDie$($date$$2_params$$){if($date$$2_params$$)if(typeof $date$$2_params$$.date!=="undefined"){$date$$2_params$$=$date$$2_params$$.date;ilib.isDate($date$$2_params$$)||($date$$2_params$$=new Date($date$$2_params$$));this._setTime($date$$2_params$$.getTime())}else if(typeof $date$$2_params$$.unixtime!=="undefined")this._setTime(parseInt($date$$2_params$$.unixtime,10));else if(typeof $date$$2_params$$.julianday!=="undefined")this._setJulianDay(parseFloat($date$$2_params$$.julianday));
else if($date$$2_params$$.year||$date$$2_params$$.month||$date$$2_params$$.day||$date$$2_params$$.hour||$date$$2_params$$.minute||$date$$2_params$$.second||$date$$2_params$$.millisecond||$date$$2_params$$.parts||$date$$2_params$$.cycle)this._setDateComponents($date$$2_params$$);else if(typeof $date$$2_params$$.rd!=="undefined")this.rd=typeof $date$$2_params$$.rd==="object"&&$date$$2_params$$.rd instanceof ilib.Date.RataDie?$date$$2_params$$.rd.rd:$date$$2_params$$.rd;typeof this.rd==="undefined"&&
this._setTime((new Date).getTime())};ilib.Date.RataDie.gregorianEpoch=1721424.5;
ilib.Date.RataDie.prototype={epoch:ilib.Date.RataDie.gregorianEpoch,_setTime:function $ilib$Date$RataDie$$_setTime$($millis$$){this._setJulianDay(2440587.5+$millis$$/864E5)},_setJulianDay:function $ilib$Date$RataDie$$_setJulianDay$($date$$){$date$$=typeof $date$$==="number"?new ilib.JulianDay($date$$):$date$$;this.rd=ilib._roundFnc.halfup(($date$$.getDate()-this.epoch)*864E5)/864E5},_onOrBefore:function $ilib$Date$RataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-ilib.mod(Math.floor($rd$$)-$dayOfWeek$$-
2,7)},onOrBefore:function $ilib$Date$RataDie$$onOrBefore$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd+$offset$$,$dayOfWeek$$)-$offset$$},onOrAfter:function $ilib$Date$RataDie$$onOrAfter$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd+6+$offset$$,$dayOfWeek$$)-$offset$$},before:function $ilib$Date$RataDie$$before$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd-1+$offset$$,$dayOfWeek$$)-$offset$$},after:function $ilib$Date$RataDie$$after$($dayOfWeek$$,
$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd+7+$offset$$,$dayOfWeek$$)-$offset$$},getTime:function $ilib$Date$RataDie$$getTime$(){var $jd$$=this.getJulianDay();return $jd$$<2440587.5||$jd$$>2465442.634803241?-1:Math.round(($jd$$-2440587.5)*864E5)},getTimeExtended:function $ilib$Date$RataDie$$getTimeExtended$(){var $jd$$=this.getJulianDay();return $jd$$<-9.75594125E7||$jd$$>1.024405875E8?NaN:Math.round(($jd$$-2440587.5)*864E5)},getJulianDay:function $ilib$Date$RataDie$$getJulianDay$(){return this.rd+
this.epoch},getRataDie:function $ilib$Date$RataDie$$getRataDie$(){return this.rd}};ilib.Date.GregRataDie=function $ilib$Date$GregRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new ilib.Cal.Gregorian;this.rd=void 0;ilib.Date.RataDie.call(this,$params$$)};ilib.Date.GregRataDie.prototype=new ilib.Date.RataDie;ilib.Date.GregRataDie.prototype.parent=ilib.Date.RataDie;ilib.Date.GregRataDie.prototype.constructor=ilib.Date.GregRataDie;
ilib.Date.GregRataDie.cumMonthLengths=[0,31,59,90,120,151,181,212,243,273,304,334,365];ilib.Date.GregRataDie.cumMonthLengthsLeap=[0,31,60,91,121,152,182,213,244,274,305,335,366];
ilib.Date.GregRataDie.prototype._setDateComponents=function $ilib$Date$GregRataDie$$_setDateComponents$($date$$){var $dayInYear_year$$=parseInt($date$$.year,10)||0,$month$$=parseInt($date$$.month,10)||1,$day$$=parseInt($date$$.day,10)||1,$hour$$=parseInt($date$$.hour,10)||0,$minute$$=parseInt($date$$.minute,10)||0,$second$$=parseInt($date$$.second,10)||0,$date$$=parseInt($date$$.millisecond,10)||0,$years$$=365*($dayInYear_year$$-1)+Math.floor(($dayInYear_year$$-1)/4)-Math.floor(($dayInYear_year$$-
1)/100)+Math.floor(($dayInYear_year$$-1)/400),$dayInYear_year$$=($month$$>1?ilib.Date.GregRataDie.cumMonthLengths[$month$$-1]:0)+$day$$+(ilib.Cal.Gregorian.prototype.isLeapYear.call(this.cal,$dayInYear_year$$)&&$month$$>2?1:0);this.rd=$years$$+$dayInYear_year$$+($hour$$*36E5+$minute$$*6E4+$second$$*1E3+$date$$)/864E5};ilib.Date.GregRataDie.prototype._onOrBefore=function $ilib$Date$GregRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-ilib.mod(Math.floor($rd$$)-$dayOfWeek$$,7)};
ilib.TimeZone=function $ilib$TimeZone$($options$$){this.sync=true;this.locale=new ilib.Locale;this.isLocal=false;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.id){var $id$$=$options$$.id.toString();if($id$$==="local"){this.isLocal=true;var $jun1_now$$=new Date,$jan1$$=new Date($jun1_now$$.getFullYear(),0,1),$jun1_now$$=new Date($jun1_now$$.getFullYear(),5,1);this.offsetJan1=-$jan1$$.getTimezoneOffset();
this.offsetJun1=-$jun1_now$$.getTimezoneOffset();this.offset=Math.min(this.offsetJan1,this.offsetJun1)}this.id=$id$$}else if($options$$.offset){this.offset=typeof $options$$.offset==="string"?parseInt($options$$.offset,10):$options$$.offset;this.id=this.getDisplayName(void 0,void 0)}if(typeof $options$$.sync!=="undefined")this.sync=!!$options$$.sync;this.loadParams=$options$$.loadParams;this.onLoad=$options$$.onLoad}this.id?this._loadtzdata():new ilib.LocaleInfo(this.locale,{sync:this.sync,onLoad:ilib.bind(this,
function($li$$){this.id=$li$$.getTimeZone()||"Etc/UTC";this._loadtzdata()})})};ilib.TimeZone.prototype._loadtzdata=function $ilib$TimeZone$$_loadtzdata$(){!ilib.data.zoneinfo[this.id]&&typeof this.offset==="undefined"?ilib.loadData({object:ilib.TimeZone,nonlocale:true,name:"zoneinfo/"+this.id+".json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($tzdata$$){$tzdata$$&&!ilib.isEmpty($tzdata$$)&&(ilib.data.zoneinfo[this.id]=$tzdata$$);this._initZone()})}):this._initZone()};
ilib.TimeZone.prototype._initZone=function $ilib$TimeZone$$_initZone$(){this.zone=ilib.data.zoneinfo[this.id];if(!this.zone&&typeof this.offset==="undefined"){this.id="Etc/UTC";this.zone=ilib.data.zoneinfo[this.id]}this._calcDSTSavings();if(typeof this.offset==="undefined"&&this.zone.o){var $offsetParts$$=this._offsetStringToObj(this.zone.o);this.offset=(Math.abs($offsetParts$$.h||0)*60+($offsetParts$$.m||0))*ilib.signum($offsetParts$$.h||0)}if(this.onLoad&&typeof this.onLoad==="function")this.onLoad(this)};
ilib.data.timezone={};
ilib.TimeZone.getAvailableIds=function $ilib$TimeZone$getAvailableIds$($country$$){var $tz$$,$ids$$=[];if(!ilib.data.timezone.list){ilib.data.timezone.list=[];if(typeof ilib._load!=="undefined"&&typeof ilib._load.listAvailableFiles==="function"){var $hash$$=ilib._load.listAvailableFiles(),$dir$$;for($dir$$ in $hash$$){var $files$$=$hash$$[$dir$$];ilib.isArray($files$$)&&$files$$.forEach(function($filename$$){$filename$$&&$filename$$.match(/^zoneinfo/)&&ilib.data.timezone.list.push($filename$$.replace(/^zoneinfo\//,"").replace(/\.json$/,
""))})}}else for($tz$$ in ilib.data.zoneinfo)ilib.data.zoneinfo[$tz$$]&&ilib.data.timezone.list.push($tz$$)}if($country$$){ilib.data.zoneinfo.zonetab||ilib.loadData({object:ilib.TimeZone,nonlocale:true,name:"zoneinfo/zonetab.json",sync:true,callback:ilib.bind(this,function($tzdata$$){if($tzdata$$)ilib.data.zoneinfo.zonetab=$tzdata$$})});$ids$$=ilib.data.zoneinfo.zonetab[$country$$]}else{$ids$$.push("local");for($tz$$ in ilib.data.timezone.list)ilib.data.timezone.list[$tz$$]&&$ids$$.push(ilib.data.timezone.list[$tz$$])}return $ids$$};
ilib.TimeZone.prototype.getId=function $ilib$TimeZone$$getId$(){return this.id.toString()};
ilib.TimeZone.prototype.getDisplayName=function $ilib$TimeZone$$getDisplayName$($date$$,$style$$){$style$$=this.isLocal||typeof this.zone==="undefined"?"rfc822":$style$$||"standard";switch($style$$){default:case "standard":if(this.zone.f&&this.zone.f!=="zzz"){if(this.zone.f.indexOf("{c}")!==-1){var $hour$$2_letter_str$$="",$hour$$2_letter_str$$=this.inDaylightTime($date$$)?this.zone.s&&this.zone.s.c:this.zone.e&&this.zone.e.c,$ret_temp$$=new ilib.String(this.zone.f);return $ret_temp$$.format({c:$hour$$2_letter_str$$||
""})}return this.zone.f}$ret_temp$$="GMT"+this.zone.o;this.inDaylightTime($date$$)&&($ret_temp$$=$ret_temp$$+("+"+this.zone.s.v));return $ret_temp$$;case "rfc822":var $minute$$2_offset$$=this.getOffset($date$$),$ret_temp$$="UTC",$hour$$2_letter_str$$=$minute$$2_offset$$.h||0,$minute$$2_offset$$=$minute$$2_offset$$.m||0;if($hour$$2_letter_str$$!==0){$ret_temp$$=$ret_temp$$+($hour$$2_letter_str$$>0?"+":"-");Math.abs($hour$$2_letter_str$$)<10&&($ret_temp$$=$ret_temp$$+"0");$ret_temp$$=$ret_temp$$+($hour$$2_letter_str$$<
0?-$hour$$2_letter_str$$:$hour$$2_letter_str$$);$minute$$2_offset$$<10&&($ret_temp$$=$ret_temp$$+"0");$ret_temp$$=$ret_temp$$+$minute$$2_offset$$}return $ret_temp$$;case "long":if(this.zone.n){if(this.zone.n.indexOf("{c}")!==-1){$hour$$2_letter_str$$=this.inDaylightTime($date$$)?"Daylight":"Standard";$ret_temp$$=new ilib.String(this.zone.n);return $ret_temp$$.format({c:$hour$$2_letter_str$$||""})}return this.zone.n}$ret_temp$$="GMT"+this.zone.o;this.inDaylightTime($date$$)&&($ret_temp$$=$ret_temp$$+
("+"+this.zone.s.v));return $ret_temp$$}};
ilib.TimeZone.prototype._offsetStringToObj=function $ilib$TimeZone$$_offsetStringToObj$($offsetParts$$1_str$$){var $offsetParts$$1_str$$=typeof $offsetParts$$1_str$$==="string"?$offsetParts$$1_str$$.split(":"):[],$ret$$={h:0},$temp$$;if($offsetParts$$1_str$$.length>0){$ret$$.h=parseInt($offsetParts$$1_str$$[0],10);if($offsetParts$$1_str$$.length>1){if($temp$$=parseInt($offsetParts$$1_str$$[1],10))$ret$$.m=$temp$$;if($offsetParts$$1_str$$.length>2)if($temp$$=parseInt($offsetParts$$1_str$$[2],10))$ret$$.s=
$temp$$}}return $ret$$};ilib.TimeZone.prototype.getOffset=function $ilib$TimeZone$$getOffset$($date$$6_hours_ret$$){if(!$date$$6_hours_ret$$)return this.getRawOffset();var $minutes_offset$$=this.getOffsetMillis($date$$6_hours_ret$$)/6E4,$date$$6_hours_ret$$=ilib._roundFnc.down($minutes_offset$$/60),$minutes_offset$$=Math.abs($minutes_offset$$)-Math.abs($date$$6_hours_ret$$)*60,$date$$6_hours_ret$$={h:$date$$6_hours_ret$$};if($minutes_offset$$!=0)$date$$6_hours_ret$$.m=$minutes_offset$$;return $date$$6_hours_ret$$};
ilib.TimeZone.prototype.getOffsetMillis=function $ilib$TimeZone$$getOffsetMillis$($date$$){var $ret$$;if(this.isLocal&&typeof $date$$.dst==="undefined")return-(!$date$$?new Date:new Date($date$$.getTimeExtended())).getTimezoneOffset()*6E4;$ret$$=this.offset;$date$$&&this.inDaylightTime($date$$)&&($ret$$=$ret$$+this.dstSavings);return $ret$$*6E4};
ilib.TimeZone.prototype._getOffsetMillisWallTime=function $ilib$TimeZone$$_getOffsetMillisWallTime$($date$$){var $ret$$;$ret$$=this.offset;$date$$&&this.inDaylightTime($date$$,true)&&($ret$$=$ret$$+this.dstSavings);return $ret$$*6E4};
ilib.TimeZone.prototype.getOffsetStr=function $ilib$TimeZone$$getOffsetStr$($date$$9_offset$$){var $date$$9_offset$$=this.getOffset($date$$9_offset$$),$ret$$;$ret$$=$date$$9_offset$$.h;if(typeof $date$$9_offset$$.m!=="undefined"){$ret$$=$ret$$+(":"+$date$$9_offset$$.m);typeof $date$$9_offset$$.s!=="undefined"&&($ret$$=$ret$$+(":"+$date$$9_offset$$.s))}else $ret$$=$ret$$+":0";return $ret$$};
ilib.TimeZone.prototype.getRawOffset=function $ilib$TimeZone$$getRawOffset$(){var $hours$$1_ret$$=ilib._roundFnc.down(this.offset/60),$minutes$$=Math.abs(this.offset)-Math.abs($hours$$1_ret$$)*60,$hours$$1_ret$$={h:$hours$$1_ret$$};if($minutes$$!=0)$hours$$1_ret$$.m=$minutes$$;return $hours$$1_ret$$};ilib.TimeZone.prototype.getRawOffsetMillis=function $ilib$TimeZone$$getRawOffsetMillis$(){return this.offset*6E4};
ilib.TimeZone.prototype.getRawOffsetStr=function $ilib$TimeZone$$getRawOffsetStr$(){var $off$$=this.getRawOffset();return $off$$.h+":"+($off$$.m||"0")};ilib.TimeZone.prototype.getDSTSavings=function $ilib$TimeZone$$getDSTSavings$(){if(this.isLocal){var $savings$$=Math.abs(this.offsetJan1-this.offsetJun1),$hours$$=ilib._roundFnc.down($savings$$/60);return{h:$hours$$,m:$savings$$-$hours$$*60}}return this.zone&&this.zone.s?this._offsetStringToObj(this.zone.s.v):{h:0}};
ilib.TimeZone.prototype.getDSTSavingsStr=function $ilib$TimeZone$$getDSTSavingsStr$(){if(this.isLocal){var $savings$$=this.getDSTSavings();return $savings$$.h+":"+$savings$$.m}return typeof this.offset!=="undefined"&&this.zone&&this.zone.s?this.zone.s.v:"0:0"};
ilib.TimeZone.prototype._calcRuleStart=function $ilib$TimeZone$$_calcRuleStart$($rule$$,$year$$){var $type$$="=",$weekday$$=0,$cal_day$$2_i$$,$hour$$,$d$$1_minute$$=$hour$$=0,$second$$=0,$time$$;if(typeof $rule$$.j!=="undefined")$hour$$=new ilib.Date.GregRataDie({julianday:$rule$$.j});else{if($rule$$.r.charAt(0)=="l"||$rule$$.r.charAt(0)=="f"){$cal_day$$2_i$$=ilib.Cal.newInstance({type:"gregorian"});$type$$=$rule$$.r.charAt(0);$weekday$$=parseInt($rule$$.r.substring(1),10);$cal_day$$2_i$$=$type$$===
"l"?$cal_day$$2_i$$.getMonLength($rule$$.m,$year$$):1}else{$cal_day$$2_i$$=$rule$$.r.indexOf("<");$cal_day$$2_i$$==-1&&($cal_day$$2_i$$=$rule$$.r.indexOf(">"));if($cal_day$$2_i$$!=-1){$type$$=$rule$$.r.charAt($cal_day$$2_i$$);$weekday$$=parseInt($rule$$.r.substring(0,$cal_day$$2_i$$),10);$cal_day$$2_i$$=parseInt($rule$$.r.substring($cal_day$$2_i$$+1),10)}else $cal_day$$2_i$$=parseInt($rule$$.r,10)}if($rule$$.t){$time$$=$rule$$.t.split(":");$hour$$=parseInt($time$$[0],10);if($time$$.length>1){$d$$1_minute$$=
parseInt($time$$[1],10);$time$$.length>2&&($second$$=parseInt($time$$[2],10))}}$hour$$=new ilib.Date.GregRataDie({year:$year$$,month:$rule$$.m,day:$cal_day$$2_i$$,hour:$hour$$,minute:$d$$1_minute$$,second:$second$$})}$d$$1_minute$$=$hour$$.getRataDie();switch($type$$){case "l":case "<":$d$$1_minute$$=$hour$$.onOrBefore($weekday$$);break;case "f":case ">":$d$$1_minute$$=$hour$$.onOrAfter($weekday$$)}return $d$$1_minute$$};
ilib.TimeZone.prototype._calcDSTSavings=function $ilib$TimeZone$$_calcDSTSavings$(){var $saveParts$$=this.getDSTSavings();this.dstSavings=(Math.abs($saveParts$$.h||0)*60+($saveParts$$.m||0))*ilib.signum($saveParts$$.h||0)};ilib.TimeZone.prototype._getDSTStartRule=function $ilib$TimeZone$$_getDSTStartRule$(){return this.zone.s};ilib.TimeZone.prototype._getDSTEndRule=function $ilib$TimeZone$$_getDSTEndRule$(){return this.zone.e};
ilib.TimeZone.prototype.inDaylightTime=function $ilib$TimeZone$$inDaylightTime$($date$$,$wallTime$$){var $d$$2_offset$$22_rd$$,$dst_startRd_startrule$$,$endRd_endrule$$;if(this.isLocal){$d$$2_offset$$22_rd$$=0;typeof $date$$.dst!=="undefined"&&!$date$$.dst&&($d$$2_offset$$22_rd$$=this.dstSavings*6E4);$d$$2_offset$$22_rd$$=new Date($date$$?$date$$.getTimeExtended()+$d$$2_offset$$22_rd$$:void 0);$dst_startRd_startrule$$=Math.max(this.offsetJan1,this.offsetJun1);return-$d$$2_offset$$22_rd$$.getTimezoneOffset()===
$dst_startRd_startrule$$}$date$$?$date$$ instanceof ilib.Date.GregDate||($date$$=new ilib.Date.GregDate({julianday:$date$$.getJulianDay(),timezone:$date$$.getTimeZone()})):$date$$=new ilib.Date.GregDate;if(!this.useDaylightTime($date$$.year))return false;$d$$2_offset$$22_rd$$=$date$$.rd.getRataDie();$dst_startRd_startrule$$=this._getDSTStartRule($date$$.year);$endRd_endrule$$=this._getDSTEndRule($date$$.year);$dst_startRd_startrule$$=this._calcRuleStart($dst_startRd_startrule$$,$date$$.year);$endRd_endrule$$=
this._calcRuleStart($endRd_endrule$$,$date$$.year);if($wallTime$$)$dst_startRd_startrule$$=$dst_startRd_startrule$$+this.dstSavings/1440;else{$dst_startRd_startrule$$=$dst_startRd_startrule$$-this.offset/1440;$endRd_endrule$$=$endRd_endrule$$-(this.offset+this.dstSavings)/1440}return $d$$2_offset$$22_rd$$<$endRd_endrule$$&&$endRd_endrule$$-$d$$2_offset$$22_rd$$<=this.dstSavings/1440&&typeof $date$$.dst==="boolean"?$date$$.dst:$dst_startRd_startrule$$<$endRd_endrule$$?$d$$2_offset$$22_rd$$>=$dst_startRd_startrule$$&&
$d$$2_offset$$22_rd$$<$endRd_endrule$$?true:false:$d$$2_offset$$22_rd$$>=$dst_startRd_startrule$$||$d$$2_offset$$22_rd$$<$endRd_endrule$$?true:false};ilib.TimeZone.prototype.useDaylightTime=function $ilib$TimeZone$$useDaylightTime$(){return this.isLocal&&this.offsetJan1!==this.offsetJun1||typeof this.zone!=="undefined"&&typeof this.zone.s!=="undefined"&&typeof this.zone.e!=="undefined"};ilib.TimeZone.prototype.getCountry=function $ilib$TimeZone$$getCountry$(){return this.zone.c};
ilib.ResBundle=function $ilib$ResBundle$($options$$){var $lookupLocale$$,$spec$$;this.locale=new ilib.Locale;this.baseName="strings";this.type="text";this.loadParams={};this.missing="source";this.sync=true;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.name)this.baseName=$options$$.name;if($options$$.type)this.type=$options$$.type;this.lengthen=$options$$.lengthen||false;if(typeof $options$$.sync!==
"undefined")this.sync=$options$$.sync==true;if(typeof $options$$.loadParams!=="undefined")this.loadParams=$options$$.loadParams;if(typeof $options$$.missing!=="undefined"&&($options$$.missing==="pseudo"||$options$$.missing==="empty"))this.missing=$options$$.missing}this.map={};ilib.ResBundle[this.baseName]||(ilib.ResBundle[this.baseName]={});$lookupLocale$$=this.locale.isPseudo()?new ilib.Locale("en-US"):this.locale;ilib.loadData({object:ilib.ResBundle[this.baseName],locale:$lookupLocale$$,name:this.baseName+
".json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($map$$){if(!$map$$){$map$$=ilib.data[this.baseName]||{};$spec$$=$lookupLocale$$.getSpec().replace(/-/g,"_");ilib.ResBundle[this.baseName].cache[$spec$$]=$map$$}this.map=$map$$;if(this.locale.isPseudo()){if(!ilib.ResBundle.pseudomap)ilib.ResBundle.pseudomap={};this._loadPseudo(this.locale,$options$$.onLoad)}else if(this.missing==="pseudo"){if(!ilib.ResBundle.pseudomap)ilib.ResBundle.pseudomap={};new ilib.LocaleInfo(this.locale,
{sync:this.sync,loadParams:this.loadParams,onLoad:ilib.bind(this,function($li$$){this._loadPseudo(new ilib.Locale("zxx","XX",void 0,$li$$.getDefaultScript()),$options$$.onLoad)})})}else if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};ilib.ResBundle.defaultPseudo=ilib.data.pseudomap||{a:"\u00e0",e:"\u00eb",i:"\u00ed",o:"\u00f5",u:"\u00fc",y:"\u00ff",A:"\u00c3",E:"\u00cb",I:"\u00cf",O:"\u00d8",U:"\u00da",Y:"\u0176"};
ilib.ResBundle.prototype={_loadPseudo:function $ilib$ResBundle$$_loadPseudo$($pseudoLocale$$,$onLoad$$){ilib.loadData({object:ilib.ResBundle.pseudomap,locale:$pseudoLocale$$,name:"pseudomap.json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($map$$){if(!$map$$||ilib.isEmpty($map$$)){var $map$$=ilib.ResBundle.defaultPseudo,$spec$$=$pseudoLocale$$.getSpec().replace(/-/g,"_");ilib.ResBundle.pseudomap.cache[$spec$$]=$map$$}this.pseudomap=$map$$;typeof $onLoad$$==="function"&&
$onLoad$$(this)})})},getLocale:function $ilib$ResBundle$$getLocale$(){return this.locale},getName:function $ilib$ResBundle$$getName$(){return this.baseName},getType:function $ilib$ResBundle$$getType$(){return this.type},pseudo:function $ilib$ResBundle$$pseudo$($str$$){if($str$$){var $ret$$="",$i$$;for($i$$=0;$i$$<$str$$.length;$i$$++)if(this.type!=="raw"){if(this.type==="html"||this.type==="xml")if($str$$.charAt($i$$)==="<"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!==
">";)$ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&($ret$$=$ret$$+$str$$.charAt($i$$++))}else if($str$$.charAt($i$$)==="&"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!==";"&&$str$$.charAt($i$$)!==" ";)$ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&($ret$$=$ret$$+$str$$.charAt($i$$++))}if($i$$<$str$$.length)if($str$$.charAt($i$$)==="{"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!=="}";)$ret$$=$ret$$+$str$$.charAt($i$$++);
$i$$<$str$$.length&&($ret$$=$ret$$+$str$$.charAt($i$$))}else $ret$$=$ret$$+(this.pseudomap[$str$$.charAt($i$$)]||$str$$.charAt($i$$))}else $ret$$=$ret$$+(this.pseudomap[$str$$.charAt($i$$)]||$str$$.charAt($i$$));if(this.lengthen)for($i$$=($ret$$.length<=20?Math.round($ret$$.length/2):$ret$$.length>20&&$ret$$.length<=40?Math.round($ret$$.length/3):Math.round($ret$$.length/5))-1;$i$$>=0;$i$$--)$ret$$=$ret$$+$i$$%10;if(this.locale.getScript()==="Hans"||this.locale.getScript()==="Hant"||this.locale.getScript()===
"Hani"||this.locale.getScript()==="Hrkt"||this.locale.getScript()==="Jpan"||this.locale.getScript()==="Hira"||this.locale.getScript()==="Kana")$ret$$=$ret$$.replace(/ /g,"");return $ret$$}},escapeXml:function $ilib$ResBundle$$escapeXml$($str$$){$str$$=$str$$.replace(/&/g,"&amp;");$str$$=$str$$.replace(/</g,"&lt;");return $str$$=$str$$.replace(/>/g,"&gt;")},unescapeXml:function $ilib$ResBundle$$unescapeXml$($str$$){$str$$=$str$$.replace(/&amp;/g,"&");$str$$=$str$$.replace(/&lt;/g,"<");return $str$$=
$str$$.replace(/&gt;/g,">")},makeKey:function $ilib$ResBundle$$makeKey$($key$$13_source$$){$key$$13_source$$=$key$$13_source$$.replace(/\s+/gm," ");return this.type==="xml"||this.type==="html"?this.unescapeXml($key$$13_source$$):$key$$13_source$$},getString:function $ilib$ResBundle$$getString$($source$$,$key$$,$escapeMode_ret$$){if(!$source$$&&!$key$$)return new ilib.String("");if(this.locale.isPseudo())$source$$=this.pseudo(($source$$?$source$$:this.map[$key$$])||$key$$);else var $keyName$$=$key$$||
this.makeKey($source$$),$source$$=typeof this.map[$keyName$$]!=="undefined"?this.map[$keyName$$]:this.missing==="pseudo"?this.pseudo($source$$||$key$$):this.missing==="empty"?"":$source$$;if($escapeMode_ret$$&&$escapeMode_ret$$!=="none"){if($escapeMode_ret$$=="default")$escapeMode_ret$$=this.type;if($escapeMode_ret$$==="xml"||$escapeMode_ret$$==="html")$source$$=this.escapeXml($source$$);else if($escapeMode_ret$$=="js"||$escapeMode_ret$$==="attribute")$source$$=$source$$.replace(/'/g,"\\'").replace(/"/g,
'\\"')}if($source$$!==void 0){$escapeMode_ret$$=new ilib.String($source$$);$escapeMode_ret$$.setLocale(this.locale.getSpec(),true,this.loadParams);return $escapeMode_ret$$}},getStringJS:function $ilib$ResBundle$$getStringJS$($source$$,$key$$,$escapeMode$$){return this.getString($source$$,$key$$,$escapeMode$$).toString()},containsKey:function $ilib$ResBundle$$containsKey$($source$$,$key$$){return typeof $source$$==="undefined"&&typeof $key$$==="undefined"?false:typeof this.map[$key$$||this.makeKey($source$$)]!==
"undefined"},getResObj:function $ilib$ResBundle$$getResObj$(){return this.map}};
ilib.DateFmt=function $ilib$DateFmt$($options$$){var $arr$$,$i$$,$bad$$,$sync$$=true,$loadParams$$=void 0;this.locale=new ilib.Locale;this.type="date";this.length="s";this.dateComponents="dmy";this.timeComponents="ahm";this.meridiems="default";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.type&&($options$$.type==="date"||$options$$.type==="time"||$options$$.type==="datetime"))this.type=$options$$.type;
if($options$$.calendar)this.calName=$options$$.calendar;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length.charAt(0);if($options$$.date){$arr$$=$options$$.date.split("");$arr$$.sort(function($left$$,$right$$){return $left$$<$right$$?-1:$right$$<$left$$?1:0});$bad$$=false;for($i$$=0;$i$$<$arr$$.length;$i$$++)if($arr$$[$i$$]!=="d"&&$arr$$[$i$$]!=="m"&&$arr$$[$i$$]!=="y"&&$arr$$[$i$$]!==
"w"&&$arr$$[$i$$]!=="n"){$bad$$=true;break}if(!$bad$$)this.dateComponents=$arr$$.join("")}if($options$$.time){$arr$$=$options$$.time.split("");$arr$$.sort(function($left$$,$right$$){return $left$$<$right$$?-1:$right$$<$left$$?1:0});this.badTime=false;for($i$$=0;$i$$<$arr$$.length;$i$$++)if($arr$$[$i$$]!=="h"&&$arr$$[$i$$]!=="m"&&$arr$$[$i$$]!=="s"&&$arr$$[$i$$]!=="a"&&$arr$$[$i$$]!=="z"){this.badTime=true;break}if(!this.badTime)this.timeComponents=$arr$$.join("")}if($options$$.clock&&($options$$.clock===
"12"||$options$$.clock==="24"))this.clock=$options$$.clock;if($options$$.template){this.timeComponents=this.dateComponents=this.length=this.type="";this.template=$options$$.template}if($options$$.timezone)this.tz=$options$$.timezone instanceof ilib.TimeZone?$options$$.timezone:new ilib.TimeZone({locale:this.locale,id:$options$$.timezone});else if($options$$.locale)this.tz=new ilib.TimeZone({locale:this.locale});if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;if(typeof $options$$.meridiems!==
"undefined"&&($options$$.meridiems==="chinese"||$options$$.meridiems==="gregorian"||$options$$.meridiems==="ethiopic"))this.meridiems=$options$$.meridiems;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync===true);$loadParams$$=$options$$.loadParams}if(!ilib.DateFmt.cache)ilib.DateFmt.cache={};new ilib.LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this.locinfo=$li$$;this.calName=this.calName||this.locinfo.getCalendar()||"gregorian";
!ilib.Date._constructors[this.calName]&&ilib.isDynCode()&&ilib.Date._dynLoadCalendar(this.calName);this.cal=ilib.Cal.newInstance({type:this.calName});if(!this.cal)this.cal=new ilib.Cal.Gregorian;if(this.meridiems==="default")this.meridiems=$li$$.getMeridiemsStyle();new ilib.ResBundle({locale:this.locale,name:"sysres",sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($rb$$){this.sysres=$rb$$;if(this.template){this._massageTemplate();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}else ilib.loadData({object:ilib.DateFmt,
locale:this.locale,name:"dateformats.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($formats$$){if(!$formats$$){var $formats$$=ilib.data.dateformats||ilib.DateFmt.defaultFmt,$spec$$=this.locale.getSpec().replace(/-/g,"_");ilib.DateFmt.cache[$spec$$]=$formats$$}if(typeof this.clock==="undefined")this.clock=this.locinfo.getClock();this._initTemplate($formats$$);this._massageTemplate();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})})})};
ilib.DateFmt.lenmap={s:"short",m:"medium",l:"long",f:"full"};ilib.DateFmt.zeros="0000";
ilib.DateFmt.defaultFmt={gregorian:{order:"{date} {time}",date:{dmwy:"EEE d/MM/yyyy",dmy:"d/MM/yyyy",dmw:"EEE d/MM",dm:"d/MM",my:"MM/yyyy",dw:"EEE d",d:"dd",m:"MM",y:"yyyy",n:"NN",w:"EEE"},time:{12:"h:mm:ssa",24:"H:mm:ss"},range:{c00:"{st} - {et}, {sd}/{sm}/{sy}",c01:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c02:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c03:"{sd}/{sm}/{sy} {st} - {ed}/{em}/{ey} {et}",c10:"{sd}-{ed}/{sm}/{sy}",c11:"{sd}/{sm} - {ed}/{em} {sy}",c12:"{sd}/{sm}/{sy} - {ed}/{em}/{ey}",c20:"{sm}/{sy} - {em}/{ey}",
c30:"{sy} - {ey}"}},islamic:"gregorian",hebrew:"gregorian",julian:"gregorian",buddhist:"gregorian",persian:"gregorian","persian-algo":"gregorian",han:"gregorian"};ilib.DateFmt.monthNameLenMap={"short":"N",medium:"NN","long":"MMM",full:"MMMM"};ilib.DateFmt.weekDayLenMap={"short":"E",medium:"EE","long":"EEE",full:"EEEE"};
ilib.DateFmt.prototype={_initTemplate:function $ilib$DateFmt$$_initTemplate$($formats$$){if($formats$$[this.calName]){this.formats=$formats$$[this.calName];if(typeof this.formats==="string")this.formats=$formats$$[this.formats];this.template="";switch(this.type){case "datetime":this.template=this.formats&&this._getLengthFormat(this.formats.order,this.length)||"{date} {time}";this.template=this.template.replace("{date}",this._getFormat(this.formats.date,this.dateComponents,this.length)||"");this.template=
this.template.replace("{time}",this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)||"");break;case "date":this.template=this._getFormat(this.formats.date,this.dateComponents,this.length);break;case "time":this.template=this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)}}else throw"No formats available for calendar "+this.calName+" in locale "+this.locale.toString();},_massageTemplate:function $ilib$DateFmt$$_massageTemplate$(){var $digits_i$$;
if(this.clock&&this.template){var $temp$$="";switch(this.clock){case "24":for($digits_i$$=0;$digits_i$$<this.template.length;$digits_i$$++)if(this.template.charAt($digits_i$$)=="'"){for($temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&this.template.charAt($digits_i$$)!=="'";)$temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&($temp$$=$temp$$+this.template.charAt($digits_i$$))}else $temp$$=this.template.charAt($digits_i$$)=="K"?
$temp$$+"k":this.template.charAt($digits_i$$)=="h"?$temp$$+"H":$temp$$+this.template.charAt($digits_i$$);this.template=$temp$$;break;case "12":for($digits_i$$=0;$digits_i$$<this.template.length;$digits_i$$++)if(this.template.charAt($digits_i$$)=="'"){for($temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&this.template.charAt($digits_i$$)!=="'";)$temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&($temp$$=$temp$$+this.template.charAt($digits_i$$))}else $temp$$=
this.template.charAt($digits_i$$)=="k"?$temp$$+"K":this.template.charAt($digits_i$$)=="H"?$temp$$+"h":$temp$$+this.template.charAt($digits_i$$);this.template=$temp$$}}this.templateArr=this._tokenize(this.template);if(typeof this.useNative==="boolean"){if(this.useNative)if($digits_i$$=this.locinfo.getNativeDigits())this.digits=$digits_i$$}else if(this.locinfo.getDigitsStyle()==="native")if($digits_i$$=this.locinfo.getNativeDigits()){this.useNative=true;this.digits=$digits_i$$}},_tokenize:function $ilib$DateFmt$$_tokenize$($template$$){var $i$$=
0,$start$$,$ch$$,$letter$$,$arr$$=[];if($template$$)for(;$i$$<$template$$.length;){$ch$$=$template$$.charAt($i$$);$start$$=$i$$;if($ch$$==="'"){for($i$$++;$i$$<$template$$.length&&$template$$.charAt($i$$)!=="'";)$i$$++;$i$$<$template$$.length&&$i$$++}else if($ch$$>="a"&&$ch$$<="z"||$ch$$>="A"&&$ch$$<="Z")for($letter$$=$template$$.charAt($i$$);$i$$<$template$$.length&&$ch$$===$letter$$;)$ch$$=$template$$.charAt(++$i$$);else for(;$i$$<$template$$.length&&$ch$$!=="'"&&($ch$$<"a"||$ch$$>"z")&&($ch$$<
"A"||$ch$$>"Z");)$ch$$=$template$$.charAt(++$i$$);$arr$$.push($template$$.substring($start$$,$i$$))}return $arr$$},_getFormat:function getFormat($obj$$,$components$$,$length$$){if(typeof $components$$!=="undefined"&&$obj$$&&$obj$$[$components$$])return this._getLengthFormat($obj$$[$components$$],$length$$)},_getLengthFormat:function getLengthFormat($obj$$,$length$$){if(typeof $obj$$==="string")return $obj$$;if($obj$$[$length$$])return $obj$$[$length$$]},getLocale:function $ilib$DateFmt$$getLocale$(){return this.locale},
getTemplate:function $ilib$DateFmt$$getTemplate$(){return this.template},getType:function $ilib$DateFmt$$getType$(){return this.type},getCalendar:function $ilib$DateFmt$$getCalendar$(){return this.cal.getType()},getLength:function $ilib$DateFmt$$getLength$(){return ilib.DateFmt.lenmap[this.length]||""},getDateComponents:function $ilib$DateFmt$$getDateComponents$(){return this.dateComponents||""},getTimeComponents:function $ilib$DateFmt$$getTimeComponents$(){return this.timeComponents||""},getTimeZone:function $ilib$DateFmt$$getTimeZone$(){if(!this.tz)this.tz=
new ilib.TimeZone({id:ilib.getTimeZone()});return this.tz},getClock:function $ilib$DateFmt$$getClock$(){return this.clock||this.locinfo.getClock()},_getTemplate:function $ilib$DateFmt$$_getTemplate$($prefix$$,$calendar$$){return $calendar$$!=="gregorian"?$prefix$$+"-"+$calendar$$:$prefix$$},getMonthsOfYear:function $ilib$DateFmt$$getMonthsOfYear$($monthCount_options$$){var $length$$15_template$$=$monthCount_options$$&&$monthCount_options$$.length||this.getLength(),$length$$15_template$$=ilib.DateFmt.monthNameLenMap[$length$$15_template$$],
$months$$=[void 0],$date$$11_i$$;if($monthCount_options$$){$monthCount_options$$.date&&($date$$11_i$$=ilib.Date._dateToIlib($monthCount_options$$.date));$monthCount_options$$.year&&($date$$11_i$$=ilib.Date.newInstance({year:$monthCount_options$$.year,month:1,day:1,type:this.cal.getType()}))}$date$$11_i$$||($date$$11_i$$=this.cal.newDateInstance());$monthCount_options$$=this.cal.getNumMonths($date$$11_i$$.getYears());for($date$$11_i$$=1;$date$$11_i$$<=$monthCount_options$$;$date$$11_i$$++)$months$$[$date$$11_i$$]=
this.sysres.getString(this._getTemplate($length$$15_template$$+$date$$11_i$$,this.cal.getType())).toString();return $months$$},getDaysOfWeek:function $ilib$DateFmt$$getDaysOfWeek$($length$$16_options$$11_template$$){for(var $length$$16_options$$11_template$$=$length$$16_options$$11_template$$&&$length$$16_options$$11_template$$.length||this.getLength(),$length$$16_options$$11_template$$=ilib.DateFmt.weekDayLenMap[$length$$16_options$$11_template$$],$days$$=[],$i$$=0;$i$$<7;$i$$++)$days$$[$i$$]=this.sysres.getString(this._getTemplate($length$$16_options$$11_template$$+
$i$$,this.cal.getType())).toString();return $days$$},toString:function $ilib$DateFmt$$toString$(){return this.getTemplate()},_pad:function $ilib$DateFmt$$_pad$($str$$,$length$$){typeof $str$$!=="string"&&($str$$=""+$str$$);var $start$$=0;$str$$.charAt(0)==="-"&&$start$$++;return $str$$.length>=$length$$+$start$$?$str$$:$str$$.substring(0,$start$$)+ilib.DateFmt.zeros.substring(0,$length$$-$str$$.length+$start$$)+$str$$.substring($start$$)},_formatTemplate:function $ilib$DateFmt$$_formatTemplate$($date$$,
$templateArr$$){var $i$$,$key$$,$temp$$3_tz$$,$str$$="";for($i$$=0;$i$$<$templateArr$$.length;$i$$++)switch($templateArr$$[$i$$]){case "d":$str$$=$str$$+($date$$.day||1);break;case "dd":$str$$=$str$$+this._pad($date$$.day||"1",2);break;case "yy":$temp$$3_tz$$=""+($date$$.year||0)%100;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "yyyy":$str$$=$str$$+this._pad($date$$.year||"0",4);break;case "M":$str$$=$str$$+($date$$.month||1);break;case "MM":$str$$=$str$$+this._pad($date$$.month||"1",2);break;
case "h":$temp$$3_tz$$=($date$$.hour||0)%12;$temp$$3_tz$$==0&&($temp$$3_tz$$="12");$str$$=$str$$+$temp$$3_tz$$;break;case "hh":$temp$$3_tz$$=($date$$.hour||0)%12;$temp$$3_tz$$==0&&($temp$$3_tz$$="12");$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "K":$temp$$3_tz$$=($date$$.hour||0)%12;$str$$=$str$$+$temp$$3_tz$$;break;case "KK":$temp$$3_tz$$=($date$$.hour||0)%12;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "H":$str$$=$str$$+($date$$.hour||"0");break;case "HH":$str$$=$str$$+this._pad($date$$.hour||
"0",2);break;case "k":$str$$=$str$$+($date$$.hour==0?"24":$date$$.hour);break;case "kk":$temp$$3_tz$$=$date$$.hour==0?"24":$date$$.hour;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "m":$str$$=$str$$+($date$$.minute||"0");break;case "mm":$str$$=$str$$+this._pad($date$$.minute||"0",2);break;case "s":$str$$=$str$$+($date$$.minute||"0");break;case "ss":$str$$=$str$$+this._pad($date$$.second||"0",2);break;case "S":$str$$=$str$$+($date$$.millisecond||"0");break;case "SSS":$str$$=$str$$+this._pad($date$$.millisecond||
"0",3);break;case "N":case "NN":case "MMM":case "MMMM":$key$$=$templateArr$$[$i$$]+($date$$.month||1);$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,$key$$));break;case "E":case "EE":case "EEE":case "EEEE":$key$$=$templateArr$$[$i$$]+$date$$.getDayOfWeek();$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,$key$$));break;case "a":switch(this.meridiems){case "chinese":$key$$=$date$$.hour<6?"azh0":$date$$.hour<
9?"azh1":$date$$.hour<12?"azh2":$date$$.hour<13?"azh3":$date$$.hour<18?"azh4":$date$$.hour<21?"azh5":"azh6";break;case "ethiopic":$date$$.hour<6?$key$$="a0-ethiopic":$date$$.hour===6&&$date$$.minute===0?$key$$="a1-ethiopic":$date$$.hour>=6&&$date$$.hour<12?$key$$="a2-ethiopic":$date$$.hour>=12&&$date$$.hour<18?$key$$="a3-ethiopic":$date$$.hour>=18&&($key$$="a4-ethiopic");break;default:$key$$=$date$$.hour<12?"a0":"a1"}$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,
$key$$));break;case "w":$str$$=$str$$+$date$$.getWeekOfYear();break;case "ww":$str$$=$str$$+this._pad($date$$.getWeekOfYear(),2);break;case "D":$str$$=$str$$+$date$$.getDayOfYear();break;case "DD":$str$$=$str$$+this._pad($date$$.getDayOfYear(),2);break;case "DDD":$str$$=$str$$+this._pad($date$$.getDayOfYear(),3);break;case "W":$str$$=$str$$+$date$$.getWeekOfMonth(this.locale);break;case "G":$key$$="G"+$date$$.getEra();$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,
$key$$));break;case "O":$temp$$3_tz$$=this.sysres.getString("1#1st|2#2nd|3#3rd|21#21st|22#22nd|23#23rd|31#31st|#{num}th","ordinalChoice");$str$$=$str$$+$temp$$3_tz$$.formatChoice($date$$.day,{num:$date$$.day});break;case "z":$temp$$3_tz$$=this.getTimeZone();$str$$=$str$$+$temp$$3_tz$$.getDisplayName($date$$,"standard");break;case "Z":$temp$$3_tz$$=this.getTimeZone();$str$$=$str$$+$temp$$3_tz$$.getDisplayName($date$$,"rfc822");break;default:$str$$=$str$$+$templateArr$$[$i$$].replace(/'/g,"")}this.digits&&
($str$$=ilib.mapString($str$$,this.digits));return $str$$},format:function $ilib$DateFmt$$format$($date$$){var $thisZoneName$$=this.tz&&this.tz.getId()||"local",$date$$=ilib.Date._dateToIlib($date$$,$thisZoneName$$,this.locale);if(!$date$$.getCalendar||!($date$$ instanceof ilib.Date))throw"Wrong date type passed to ilib.DateFmt.format()";if(($date$$.timezone||"local")!==$thisZoneName$$||$date$$.getCalendar()!==this.calName)$date$$=ilib.Date.newInstance({type:this.calName,timezone:$thisZoneName$$,
julianday:$date$$.getJulianDay()});return this._formatTemplate($date$$,this.templateArr)},formatRelative:function $ilib$DateFmt$$formatRelative$($reference$$,$date$$){var $reference$$=ilib.Date._dateToIlib($reference$$),$date$$=ilib.Date._dateToIlib($date$$),$fmt_referenceRd$$,$dateRd_diff_time$$,$num$$;if(typeof $reference$$!=="object"||!$reference$$.getCalendar||$reference$$.getCalendar()!==this.calName||typeof $date$$!=="object"||!$date$$.getCalendar||$date$$.getCalendar()!==this.calName)throw"Wrong calendar type";
$fmt_referenceRd$$=$reference$$.getRataDie();$dateRd_diff_time$$=$date$$.getRataDie();if($dateRd_diff_time$$<$fmt_referenceRd$$){$dateRd_diff_time$$=$fmt_referenceRd$$-$dateRd_diff_time$$;$fmt_referenceRd$$=this.sysres.getString("{duration} ago")}else{$dateRd_diff_time$$=$dateRd_diff_time$$-$fmt_referenceRd$$;$fmt_referenceRd$$=this.sysres.getString("in {duration}")}if($dateRd_diff_time$$<6.94444E-4){$num$$=Math.round($dateRd_diff_time$$*86400);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}s");
break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 se|#{num} sec");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 sec|#{num} sec");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 second|#{num} seconds")}}else if($dateRd_diff_time$$<0.041666667){$num$$=Math.round($dateRd_diff_time$$*1440);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}m","durationShortMinutes");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 mi|#{num} min");
break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 min|#{num} min");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 minute|#{num} minutes")}}else if($dateRd_diff_time$$<1){$num$$=Math.round($dateRd_diff_time$$*24);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}h");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 hr|#{num} hrs","durationMediumHours");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 hr|#{num} hrs");
break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 hour|#{num} hours")}}else if($dateRd_diff_time$$<14){$num$$=Math.round($dateRd_diff_time$$);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}d");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 dy|#{num} dys");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 day|#{num} days","durationLongDays");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 day|#{num} days")}}else if($dateRd_diff_time$$<
84){$num$$=Math.round($dateRd_diff_time$$/7);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}w");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 wk|#{num} wks","durationMediumWeeks");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 wk|#{num} wks");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 week|#{num} weeks")}}else if($dateRd_diff_time$$<730){$num$$=Math.round($dateRd_diff_time$$/30.4);switch(this.length){case "s":$dateRd_diff_time$$=
this.sysres.getString("#{num}m","durationShortMonths");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 mo|#{num} mos");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 mon|#{num} mons");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 month|#{num} months")}}else{$num$$=Math.round($dateRd_diff_time$$/365);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}y");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 yr|#{num} yrs",
"durationMediumYears");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 yr|#{num} yrs");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 year|#{num} years")}}return $fmt_referenceRd$$.format({duration:$dateRd_diff_time$$.formatChoice($num$$,{num:$num$$})})}};
ilib.DateRngFmt=function $ilib$DateRngFmt$($options$$){var $sync$$=true,$loadParams$$=void 0;this.locale=new ilib.Locale;this.length="s";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.calendar)this.calName=$options$$.calendar;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length.charAt(0);
typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);$loadParams$$=$options$$.loadParams}var $opts$$={};ilib.shallowCopy($options$$,$opts$$);$opts$$.sync=$sync$$;$opts$$.loadParams=$loadParams$$;$opts$$.onLoad=ilib.bind(this,function($fmt$$){if(this.dateFmt=$fmt$$){this.locinfo=this.dateFmt.locinfo;this.calName=this.calName||this.locinfo.getCalendar()||"gregorian";this.cal=ilib.Cal.newInstance({type:this.calName});if(!this.cal)this.cal=new ilib.Cal.Gregorian;this.timeTemplate=this.dateFmt._getFormat(this.dateFmt.formats.time[this.dateFmt.clock],
this.dateFmt.timeComponents,this.length)||"hh:mm";this.timeTemplateArr=this.dateFmt._tokenize(this.timeTemplate);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}});new ilib.DateFmt($opts$$)};
ilib.DateRngFmt.prototype={getLocale:function $ilib$DateRngFmt$$getLocale$(){return this.locale},getCalendar:function $ilib$DateRngFmt$$getCalendar$(){return this.dateFmt.getCalendar()},getLength:function $ilib$DateRngFmt$$getLength$(){return ilib.DateFmt.lenmap[this.length]||""},getTimeZone:function $ilib$DateRngFmt$$getTimeZone$(){return this.dateFmt.getTimeZone()},getClock:function $ilib$DateRngFmt$$getClock$(){return this.dateFmt.getClock()},format:function $ilib$DateRngFmt$$format$($start$$,
$end$$){var $fmt$$2_startRd$$,$endRd$$;$fmt$$2_startRd$$="";var $monthTemplate$$,$dayTemplate$$;if(typeof $start$$!=="object"||!$start$$.getCalendar||$start$$.getCalendar()!==this.calName||typeof $end$$!=="object"||!$end$$.getCalendar||$end$$.getCalendar()!==this.calName)throw"Wrong calendar type";$fmt$$2_startRd$$=$start$$.getRataDie();$endRd$$=$end$$.getRataDie();$fmt$$2_startRd$$=$endRd$$-$fmt$$2_startRd$$<3?$start$$.year===$end$$.year?$start$$.month===$end$$.month?$start$$.day===$end$$.day?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,
"c00",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c01",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c02",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c03",this.length)):$endRd$$-$fmt$$2_startRd$$<730?$start$$.year===$end$$.year?$start$$.month===$end$$.month?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c10",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,
"c11",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c12",this.length)):$endRd$$-$fmt$$2_startRd$$<3650?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c20",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c30",this.length));$endRd$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"y",this.length)||"yyyy");$monthTemplate$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,
"m",this.length)||"MM");$dayTemplate$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"d",this.length)||"dd");return $fmt$$2_startRd$$.format({sy:this.dateFmt._formatTemplate($start$$,$endRd$$),sm:this.dateFmt._formatTemplate($start$$,$monthTemplate$$),sd:this.dateFmt._formatTemplate($start$$,$dayTemplate$$),st:this.dateFmt._formatTemplate($start$$,this.timeTemplateArr),ey:this.dateFmt._formatTemplate($end$$,$endRd$$),em:this.dateFmt._formatTemplate($end$$,$monthTemplate$$),
ed:this.dateFmt._formatTemplate($end$$,$dayTemplate$$),et:this.dateFmt._formatTemplate($end$$,this.timeTemplateArr)})}};
(function(){(ilib.bsearch=function $ilib$bsearch$($target$$,$arr$$,$comparator_value$$){if(typeof $arr$$==="undefined"||!$arr$$||typeof $target$$==="undefined")return-1;for(var $high$$=$arr$$.length-1,$low$$=0,$mid$$=0,$cmp$$=$comparator_value$$||ilib.bsearch.numbers;$low$$<=$high$$;){$mid$$=Math.floor(($high$$+$low$$)/2);$comparator_value$$=$cmp$$($arr$$[$mid$$],$target$$);if($comparator_value$$>0)$high$$=$mid$$-1;else if($comparator_value$$<0)$low$$=$mid$$+1;else return $mid$$}return $low$$}).numbers=
ilib.bsearch.number=function $ilib$bsearch$number$($element$$,$target$$){return $element$$-$target$$};ilib.bisectionSearch=function $ilib$bisectionSearch$($target$$,$low$$,$high$$,$precision_value$$,$func$$){if(typeof $target$$!=="number"||typeof $low$$!=="number"||typeof $high$$!=="number"||typeof $func$$!=="function")return NaN;var $mid$$=0,$pre$$=$precision_value$$>0?$precision_value$$:1.0E-13;do{$mid$$=($high$$+$low$$)/2;$precision_value$$=$func$$($mid$$);$precision_value$$>$target$$?$high$$=
$mid$$:$precision_value$$<$target$$&&($low$$=$mid$$)}while($high$$-$low$$>$pre$$);return $mid$$}})();
ilib.Date.GregDate=function $ilib$Date$GregDate$($params$$){this.cal=new ilib.Cal.Gregorian;this.timezone="local";if($params$$){if(typeof $params$$.noinstance==="boolean"&&$params$$.noinstance)return;if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new ilib.Locale($params$$.locale):$params$$.locale;this.timezone=(new ilib.LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone.toString();if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||
$params$$.minute||$params$$.second||$params$$.millisecond){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd($params$$);this.offset=0;if(this.timezone==="local"&&typeof $params$$.dst===
"undefined")this.offset=-(new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTimezoneOffset()/1440;else{if(!this.tz)this.tz=new ilib.TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5}if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};ilib.Date.GregDate.prototype=new ilib.Date({noinstance:!0});
ilib.Date.GregDate.prototype.parent=ilib.Date;ilib.Date.GregDate.prototype.constructor=ilib.Date.GregDate;ilib.Date.GregDate.prototype.newRd=function $ilib$Date$GregDate$$newRd$($params$$){return new ilib.Date.GregRataDie($params$$)};
ilib.Date.GregDate._calcYear=function $ilib$Date$GregDate$_calcYear$($rd$$){var $days400_years4$$,$days100_days4_years1$$,$year$$;$year$$=Math.floor(($rd$$-1)/146097);$days400_years4$$=ilib.mod($rd$$-1,146097);$rd$$=Math.floor($days400_years4$$/36524);$days100_days4_years1$$=ilib.mod($days400_years4$$,36524);$days400_years4$$=Math.floor($days100_days4_years1$$/1461);$days100_days4_years1$$=ilib.mod($days100_days4_years1$$,1461);$days100_days4_years1$$=Math.floor($days100_days4_years1$$/365);$year$$=
400*$year$$+100*$rd$$+4*$days400_years4$$+$days100_days4_years1$$;$rd$$!==4&&$days100_days4_years1$$!==4&&$year$$++;return $year$$};ilib.Date.GregDate.prototype._calcYear=function $ilib$Date$GregDate$$_calcYear$($rd$$){return ilib.Date.GregDate._calcYear($rd$$)};
ilib.Date.GregDate.prototype._calcDateComponents=function $ilib$Date$GregDate$$_calcDateComponents$(){if(this.timezone==="local"&&this.rd.getRataDie()>=-99280837&&this.rd.getRataDie()<=100719163){var $d$$4_rd$$=new Date(this.rd.getTimeExtended());this.year=$d$$4_rd$$.getFullYear();this.month=$d$$4_rd$$.getMonth()+1;this.day=$d$$4_rd$$.getDate();this.hour=$d$$4_rd$$.getHours();this.minute=$d$$4_rd$$.getMinutes();this.second=$d$$4_rd$$.getSeconds();this.millisecond=$d$$4_rd$$.getMilliseconds();this.offset=
-$d$$4_rd$$.getTimezoneOffset()/1440}else{if(typeof this.offset==="undefined"){this.year=this._calcYear(this.rd.getRataDie());if(!this.tz)this.tz=new ilib.TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}$d$$4_rd$$=this.rd.getRataDie();this.offset!==0&&($d$$4_rd$$=$d$$4_rd$$+this.offset);this.year=this._calcYear($d$$4_rd$$);var $cumulative_yearStartRd$$=this.newRd({year:this.year,month:1,day:1,cal:this.cal}),$d$$4_rd$$=$d$$4_rd$$-$cumulative_yearStartRd$$.getRataDie()+
1,$cumulative_yearStartRd$$=ilib.Cal.Gregorian.prototype.isLeapYear.call(this.cal,this.year)?ilib.Date.GregRataDie.cumMonthLengthsLeap:ilib.Date.GregRataDie.cumMonthLengths;this.month=ilib.bsearch(Math.floor($d$$4_rd$$),$cumulative_yearStartRd$$);$d$$4_rd$$=$d$$4_rd$$-$cumulative_yearStartRd$$[this.month-1];this.day=Math.floor($d$$4_rd$$);$d$$4_rd$$=$d$$4_rd$$-this.day;$d$$4_rd$$=Math.round($d$$4_rd$$*864E5);this.hour=Math.floor($d$$4_rd$$/36E5);$d$$4_rd$$=$d$$4_rd$$-this.hour*36E5;this.minute=Math.floor($d$$4_rd$$/
6E4);$d$$4_rd$$=$d$$4_rd$$-this.minute*6E4;this.second=Math.floor($d$$4_rd$$/1E3);$d$$4_rd$$=$d$$4_rd$$-this.second*1E3;this.millisecond=Math.floor($d$$4_rd$$)}};ilib.Date.GregDate.prototype.getDayOfWeek=function $ilib$Date$GregDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return ilib.mod($rd$$,7)};
ilib.Date.GregDate.prototype.getDayOfYear=function $ilib$Date$GregDate$$getDayOfYear$(){return(this.cal.isLeapYear(this.year)?ilib.Date.GregRataDie.cumMonthLengthsLeap:ilib.Date.GregRataDie.cumMonthLengths)[this.month-1]+this.day};ilib.Date.GregDate.prototype.getEra=function $ilib$Date$GregDate$$getEra$(){return this.year<1?-1:1};ilib.Date.GregDate.prototype.getCalendar=function $ilib$Date$GregDate$$getCalendar$(){return"gregorian"};ilib.Date._constructors.gregorian=ilib.Date.GregDate;
ilib.Cal.ThaiSolar=function $ilib$Cal$ThaiSolar$(){this.type="thaisolar"};ilib.Cal.ThaiSolar.prototype=new ilib.Cal.Gregorian;ilib.Cal.ThaiSolar.prototype.parent=ilib.Cal.Gregorian;ilib.Cal.ThaiSolar.prototype.constructor=ilib.Cal.ThaiSolar;
ilib.Cal.ThaiSolar.prototype.isLeapYear=function $ilib$Cal$ThaiSolar$$isLeapYear$($y$$36_year$$){var $y$$36_year$$=typeof $y$$36_year$$==="number"?$y$$36_year$$:$y$$36_year$$.getYears(),$y$$36_year$$=$y$$36_year$$-543,$centuries$$=ilib.mod($y$$36_year$$,400);return ilib.mod($y$$36_year$$,4)===0&&$centuries$$!==100&&$centuries$$!==200&&$centuries$$!==300};ilib.Cal.ThaiSolar.prototype.newDateInstance=function $ilib$Cal$ThaiSolar$$newDateInstance$($options$$){return new ilib.Date.ThaiSolarDate($options$$)};
ilib.Cal._constructors.thaisolar=ilib.Cal.ThaiSolar;ilib.Date.ThaiSolarDate=function $ilib$Date$ThaiSolarDate$($params$$){var $p$$=$params$$;if($params$$){$p$$={};ilib.shallowCopy($params$$,$p$$);if(typeof $p$$.year!=="undefined")$p$$.year=$p$$.year-543;if(typeof $p$$.rd!=="undefined")$p$$.rd=$p$$.rd-198327}this.offset=this.rd=void 0;ilib.Date.GregDate.call(this,$p$$);this.cal=new ilib.Cal.ThaiSolar;if($params$$&&typeof $params$$.year!=="undefined")this.year=parseInt($params$$.year,10)};
ilib.Date.ThaiSolarDate.prototype=new ilib.Date.GregDate({noinstance:!0});ilib.Date.ThaiSolarDate.prototype.parent=ilib.Date.GregDate.prototype;ilib.Date.ThaiSolarDate.prototype.constructor=ilib.Date.ThaiSolarDate;ilib.Date.ThaiSolarDate.epoch=1523097.5;ilib.Date.ThaiSolarDate.prototype._calcDateComponents=function $ilib$Date$ThaiSolarDate$$_calcDateComponents$(){this.parent._calcDateComponents.call(this);this.year=this.year+543};
ilib.Date.ThaiSolarDate.prototype.getRataDie=function $ilib$Date$ThaiSolarDate$$getRataDie$(){return this.rd.getRataDie()+198327};ilib.Date.ThaiSolarDate.prototype.before=function $ilib$Date$ThaiSolarDate$$before$($dow$$){return this.cal.newDateInstance({rd:this.rd.before($dow$$,this.offset)+198327,timezone:this.timezone})};ilib.Date.ThaiSolarDate.prototype.after=function $ilib$Date$ThaiSolarDate$$after$($dow$$){return this.cal.newDateInstance({rd:this.rd.after($dow$$,this.offset)+198327,timezone:this.timezone})};
ilib.Date.ThaiSolarDate.prototype.onOrBefore=function $ilib$Date$ThaiSolarDate$$onOrBefore$($dow$$){return this.cal.newDateInstance({rd:this.rd.onOrBefore($dow$$,this.offset)+198327,timezone:this.timezone})};ilib.Date.ThaiSolarDate.prototype.onOrAfter=function $ilib$Date$ThaiSolarDate$$onOrAfter$($dow$$){return this.cal.newDateInstance({rd:this.rd.onOrAfter($dow$$,this.offset)+198327,timezone:this.timezone})};ilib.Date.ThaiSolarDate.prototype.getCalendar=function $ilib$Date$ThaiSolarDate$$getCalendar$(){return"thaisolar"};
ilib.Date._constructors.thaisolar=ilib.Date.ThaiSolarDate;
(function(){ilib.Date.initAstro=function $ilib$Date$initAstro$($sync$$,$loadParams$$,$callback$$){ilib.data.astro?$callback$$&&typeof $callback$$==="function"&&$callback$$(ilib.data.astro):ilib.loadData({name:"astro.json",locale:"-",nonLocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($astroData$$){ilib.data.astro=$astroData$$;$callback$$&&typeof $callback$$==="function"&&$callback$$($astroData$$)})})};ilib.Date._dtr=function $ilib$Date$_dtr$($d$$){return $d$$*Math.PI/
180};ilib.Date._rtd=function $ilib$Date$_rtd$($r$$){return $r$$*180/Math.PI};ilib.Date._dcos=function $ilib$Date$_dcos$($d$$){return Math.cos(ilib.Date._dtr($d$$))};ilib.Date._dsin=function $ilib$Date$_dsin$($d$$){return Math.sin(ilib.Date._dtr($d$$))};ilib.Date._dtan=function $ilib$Date$_dtan$($d$$){return Math.tan(ilib.Date._dtr($d$$))};ilib.Date._fixangle=function $ilib$Date$_fixangle$($a$$){return $a$$-360*Math.floor($a$$/360)};ilib.Date._fixangr=function $ilib$Date$_fixangr$($a$$){return $a$$-
2*Math.PI*Math.floor($a$$/(2*Math.PI))};ilib.Date._equinox=function $ilib$Date$_equinox$($year$$,$which$$){var $W_deltaL$$,$i$$,$j$$,$JDE0_JDE0tab$$,$S$$,$T_Y$$;if($year$$<1E3){$JDE0_JDE0tab$$=ilib.data.astro._JDE0tab1000;$T_Y$$=$year$$/1E3}else{$JDE0_JDE0tab$$=ilib.data.astro._JDE0tab2000;$T_Y$$=($year$$-2E3)/1E3}$JDE0_JDE0tab$$=$JDE0_JDE0tab$$[$which$$][0]+$JDE0_JDE0tab$$[$which$$][1]*$T_Y$$+$JDE0_JDE0tab$$[$which$$][2]*$T_Y$$*$T_Y$$+$JDE0_JDE0tab$$[$which$$][3]*$T_Y$$*$T_Y$$*$T_Y$$+$JDE0_JDE0tab$$[$which$$][4]*
$T_Y$$*$T_Y$$*$T_Y$$*$T_Y$$;$T_Y$$=($JDE0_JDE0tab$$-2451545)/36525;$W_deltaL$$=35999.373*$T_Y$$-2.47;$W_deltaL$$=1+0.0334*ilib.Date._dcos($W_deltaL$$)+7.0E-4*ilib.Date._dcos(2*$W_deltaL$$);for($i$$=$j$$=$S$$=0;$i$$<24;$i$$++){$S$$=$S$$+ilib.data.astro._EquinoxpTerms[$j$$]*ilib.Date._dcos(ilib.data.astro._EquinoxpTerms[$j$$+1]+ilib.data.astro._EquinoxpTerms[$j$$+2]*$T_Y$$);$j$$=$j$$+3}return $JDE0_JDE0tab$$+$S$$*1.0E-5/$W_deltaL$$};ilib.Date._deltat=function $ilib$Date$_deltat$($year$$){var $dt_i$$22_t$$;
if($year$$>=1620&&$year$$<=2014){$dt_i$$22_t$$=Math.floor($year$$-1620);$dt_i$$22_t$$=ilib.data.astro._deltaTtab[$dt_i$$22_t$$]+(ilib.data.astro._deltaTtab[$dt_i$$22_t$$+1]-ilib.data.astro._deltaTtab[$dt_i$$22_t$$])*($year$$-1620-$dt_i$$22_t$$)}else{$dt_i$$22_t$$=($year$$-2E3)/100;if($year$$<948)$dt_i$$22_t$$=2177+497*$dt_i$$22_t$$+44.1*$dt_i$$22_t$$*$dt_i$$22_t$$;else{$dt_i$$22_t$$=102+102*$dt_i$$22_t$$+25.3*$dt_i$$22_t$$*$dt_i$$22_t$$;$year$$>2E3&&$year$$<2100&&($dt_i$$22_t$$=$dt_i$$22_t$$+0.37*
($year$$-2100))}}return $dt_i$$22_t$$};ilib.Date._obliqeq=function $ilib$Date$_obliqeq$($eps_jd$$){var $u$$,$v$$,$i$$;$v$$=$u$$=($eps_jd$$-2451545)/3652500;$eps_jd$$=23+26/60+21.448/3600;if(Math.abs($u$$)<1)for($i$$=0;$i$$<10;$i$$++){$eps_jd$$=$eps_jd$$+ilib.data.astro._oterms[$i$$]/3600*$v$$;$v$$=$v$$*$u$$}return $eps_jd$$};ilib.Date._sunpos=function $ilib$Date$_sunpos$($epsilon_jd$$){var $ret$$={},$T$$,$T2$$,$T3$$,$Omega$$;$T$$=($epsilon_jd$$-2451545)/36525;$T2$$=$T$$*$T$$;$T3$$=$T$$*$T2$$;$ret$$.meanLongitude=
ilib.Date._fixangle(280.46646+36000.76983*$T$$+3.032E-4*$T2$$);$ret$$.meanAnomaly=ilib.Date._fixangle(357.52911+35999.05029*$T$$-1.537E-4*$T2$$-4.8E-7*$T3$$);$ret$$.eccentricity=0.016708634-4.2037E-5*$T$$-1.267E-7*$T2$$;$ret$$.equationOfCenter=(1.914602-0.004817*$T$$-1.4E-5*$T2$$)*ilib.Date._dsin($ret$$.meanAnomaly)+(0.019993-1.01E-4*$T$$)*ilib.Date._dsin(2*$ret$$.meanAnomaly)+2.89E-4*ilib.Date._dsin(3*$ret$$.meanAnomaly);$ret$$.sunLongitude=$ret$$.meanLongitude+$ret$$.equationOfCenter;$Omega$$=125.04-
1934.136*$T$$;$ret$$.apparentLong=$ret$$.sunLongitude+-0.00569+-0.00478*ilib.Date._dsin($Omega$$);$epsilon_jd$$=ilib.Date._obliqeq($epsilon_jd$$)+0.00256*ilib.Date._dcos($Omega$$);$ret$$.inclination=ilib.Date._fixangle(23.4392911-0.013004167*$T$$-1.6389E-7*$T2$$+5.036E-7*$T3$$);$ret$$.apparentRightAscension=ilib.Date._fixangle(ilib.Date._rtd(Math.atan2(ilib.Date._dcos($epsilon_jd$$)*ilib.Date._dsin($ret$$.apparentLong),ilib.Date._dcos($ret$$.apparentLong))));return $ret$$};ilib.Date._nutation=function $ilib$Date$_nutation$($jd$$){var $i$$,
$j$$1_t$$;$j$$1_t$$=($jd$$-2451545)/36525;var $t3_to10$$,$jd$$=[],$dp$$=0,$de$$=0,$ang$$,$ret$$={};$t3_to10$$=$j$$1_t$$*($i$$=$j$$1_t$$*$j$$1_t$$);$jd$$[0]=ilib.Date._dtr(297.850363+445267.11148*$j$$1_t$$-0.0019142*$i$$+$t3_to10$$/189474);$jd$$[1]=ilib.Date._dtr(357.52772+35999.05034*$j$$1_t$$-1.603E-4*$i$$-$t3_to10$$/3E5);$jd$$[2]=ilib.Date._dtr(134.96298+477198.867398*$j$$1_t$$+0.0086972*$i$$+$t3_to10$$/56250);$jd$$[3]=ilib.Date._dtr(93.27191+483202.017538*$j$$1_t$$-0.0036825*$i$$+$t3_to10$$/327270);
$jd$$[4]=ilib.Date._dtr(125.04452-1934.136261*$j$$1_t$$+0.0020708*$i$$+$t3_to10$$/45E4);for($i$$=0;$i$$<5;$i$$++)$jd$$[$i$$]=ilib.Date._fixangr($jd$$[$i$$]);$t3_to10$$=$j$$1_t$$/10;for($i$$=0;$i$$<63;$i$$++){for($j$$1_t$$=$ang$$=0;$j$$1_t$$<5;$j$$1_t$$++)ilib.data.astro._nutArgMult[$i$$*5+$j$$1_t$$]!=0&&($ang$$=$ang$$+ilib.data.astro._nutArgMult[$i$$*5+$j$$1_t$$]*$jd$$[$j$$1_t$$]);$dp$$=$dp$$+(ilib.data.astro._nutArgCoeff[$i$$*4+0]+ilib.data.astro._nutArgCoeff[$i$$*4+1]*$t3_to10$$)*Math.sin($ang$$);
$de$$=$de$$+(ilib.data.astro._nutArgCoeff[$i$$*4+2]+ilib.data.astro._nutArgCoeff[$i$$*4+3]*$t3_to10$$)*Math.cos($ang$$)}$ret$$.deltaPsi=$dp$$/36E6;$ret$$.deltaEpsilon=$de$$/36E6;return $ret$$};ilib.Date._equationOfTime=function $ilib$Date$_equationOfTime$($E_epsilon$$1_jd$$){var $alpha$$,$deltaPsi$$,$L0$$;$alpha$$=($E_epsilon$$1_jd$$-2451545)/365250;$L0$$=ilib.Date._fixangle(280.4664567+360007.6982779*$alpha$$+0.03032028*$alpha$$*$alpha$$+$alpha$$*$alpha$$*$alpha$$/49931+-($alpha$$*$alpha$$*$alpha$$*
$alpha$$/15300)+-($alpha$$*$alpha$$*$alpha$$*$alpha$$*$alpha$$/2E6));$alpha$$=ilib.Date._sunpos($E_epsilon$$1_jd$$).apparentRightAscension;var $nut$$=ilib.Date._nutation($E_epsilon$$1_jd$$);$deltaPsi$$=$nut$$.deltaPsi;$E_epsilon$$1_jd$$=ilib.Date._obliqeq($E_epsilon$$1_jd$$)+$nut$$.deltaEpsilon;$E_epsilon$$1_jd$$=$L0$$-0.0057183-$alpha$$+$deltaPsi$$*ilib.Date._dcos($E_epsilon$$1_jd$$);$E_epsilon$$1_jd$$>180&&($E_epsilon$$1_jd$$=$E_epsilon$$1_jd$$-360);return $E_epsilon$$1_jd$$*4/1440};ilib.Date._poly=
function $ilib$Date$_poly$($x$$,$coefficients$$){for(var $result$$=$coefficients$$[0],$xpow$$=$x$$,$i$$=1;$i$$<$coefficients$$.length;$i$$++){$result$$=$result$$+$coefficients$$[$i$$]*$xpow$$;$xpow$$=$xpow$$*$x$$}return $result$$};ilib.Date._universalFromLocal=function $ilib$Date$_universalFromLocal$($local$$,$zone$$){return $local$$-$zone$$/1440};ilib.Date._localFromUniversal=function $ilib$Date$_localFromUniversal$($local$$,$zone$$){return $local$$+$zone$$/1440};ilib.Date._aberration=function $ilib$Date$_aberration$($c$$){return 9.74E-5*
ilib.Date._dcos(177.63+35999.01847999999*$c$$)-0.005575};ilib.Date._nutation2=function $ilib$Date$_nutation2$($b_c$$){var $a$$=ilib.Date._poly($b_c$$,ilib.data.astro._nutCoeffA),$b_c$$=ilib.Date._poly($b_c$$,ilib.data.astro._nutCoeffB);return-0.004778*ilib.Date._dsin($a$$)-3.667E-4*ilib.Date._dsin($b_c$$)};ilib.Date._ephemerisCorrection=function $ilib$Date$_ephemerisCorrection$($jd$$7_x$$55_year$$){$jd$$7_x$$55_year$$=ilib.Date.GregDate._calcYear($jd$$7_x$$55_year$$-1721424.5);if(1988<=$jd$$7_x$$55_year$$&&
$jd$$7_x$$55_year$$<=2019)return($jd$$7_x$$55_year$$-1933)/86400;if(1800<=$jd$$7_x$$55_year$$&&$jd$$7_x$$55_year$$<=1987){var $theta$$=((new ilib.Date.GregRataDie({year:$jd$$7_x$$55_year$$,month:7,day:1,hour:0,minute:0,second:0})).getRataDie()-693596)/36525;return ilib.Date._poly($theta$$,1900<=$jd$$7_x$$55_year$$?ilib.data.astro._coeff19th:ilib.data.astro._coeff18th)}if(1620<=$jd$$7_x$$55_year$$&&$jd$$7_x$$55_year$$<=1799){$jd$$7_x$$55_year$$=$jd$$7_x$$55_year$$-1600;return(196.58333-4.0675*$jd$$7_x$$55_year$$+
0.0219167*$jd$$7_x$$55_year$$*$jd$$7_x$$55_year$$)/86400}$jd$$7_x$$55_year$$=0.5+((new ilib.Date.GregRataDie({year:$jd$$7_x$$55_year$$,month:1,day:1,hour:0,minute:0,second:0})).getRataDie()-660724);return($jd$$7_x$$55_year$$*$jd$$7_x$$55_year$$/41048480-15)/86400};ilib.Date._ephemerisFromUniversal=function $ilib$Date$_ephemerisFromUniversal$($jd$$){return $jd$$+ilib.Date._ephemerisCorrection($jd$$)};ilib.Date._universalFromEphemeris=function $ilib$Date$_universalFromEphemeris$($jd$$){return $jd$$-
ilib.Date._ephemerisCorrection($jd$$)};ilib.Date._julianCenturies=function $ilib$Date$_julianCenturies$($jd$$){return(ilib.Date._ephemerisFromUniversal($jd$$)-2451545)/36525};ilib.Date._solarLongitude=function $ilib$Date$_solarLongitude$($c$$4_jd$$){for(var $c$$4_jd$$=ilib.Date._julianCenturies($c$$4_jd$$),$longitude$$=0,$len$$=ilib.data.astro._solarLongCoeff.length,$i$$=0;$i$$<$len$$;$i$$++)$longitude$$=$longitude$$+ilib.data.astro._solarLongCoeff[$i$$]*ilib.Date._dsin(ilib.data.astro._solarLongAddends[$i$$]+
ilib.data.astro._solarLongMultipliers[$i$$]*$c$$4_jd$$);$longitude$$=$longitude$$*5.729577951308232E-6+(282.7771834+36000.76953744*$c$$4_jd$$)+(ilib.Date._aberration($c$$4_jd$$)+ilib.Date._nutation2($c$$4_jd$$));return ilib.Date._fixangle($longitude$$)};ilib.Date._lunarLongitude=function $ilib$Date$_lunarLongitude$($c$$5_jd$$){for(var $c$$5_jd$$=ilib.Date._julianCenturies($c$$5_jd$$),$meanMoon$$=ilib.Date._fixangle(ilib.Date._poly($c$$5_jd$$,ilib.data.astro._meanMoonCoeff)),$elongation_longitude$$=
ilib.Date._fixangle(ilib.Date._poly($c$$5_jd$$,ilib.data.astro._elongationCoeff)),$solarAnomaly_venus$$=ilib.Date._fixangle(ilib.Date._poly($c$$5_jd$$,ilib.data.astro._solarAnomalyCoeff)),$jupiter_lunarAnomaly$$=ilib.Date._fixangle(ilib.Date._poly($c$$5_jd$$,ilib.data.astro._lunarAnomalyCoeff)),$flatEarth_moonNode$$=ilib.Date._fixangle(ilib.Date._poly($c$$5_jd$$,ilib.data.astro._moonFromNodeCoeff)),$e$$=ilib.Date._poly($c$$5_jd$$,ilib.data.astro._eCoeff),$sum$$=0,$i$$=0;$i$$<ilib.data.astro._lunarElongationLongCoeff.length;$i$$++)var $x$$=
ilib.data.astro._solarAnomalyLongCoeff[$i$$],$sum$$=$sum$$+ilib.data.astro._sineCoeff[$i$$]*Math.pow($e$$,Math.abs($x$$))*ilib.Date._dsin(ilib.data.astro._lunarElongationLongCoeff[$i$$]*$elongation_longitude$$+$x$$*$solarAnomaly_venus$$+ilib.data.astro._lunarAnomalyLongCoeff[$i$$]*$jupiter_lunarAnomaly$$+ilib.data.astro._moonFromNodeLongCoeff[$i$$]*$flatEarth_moonNode$$);$elongation_longitude$$=$sum$$/1E6;$solarAnomaly_venus$$=0.003958*ilib.Date._dsin(119.75+$c$$5_jd$$*131.849);$jupiter_lunarAnomaly$$=
3.18E-4*ilib.Date._dsin(53.09+$c$$5_jd$$*479264.29);$flatEarth_moonNode$$=0.001962*ilib.Date._dsin($meanMoon$$-$flatEarth_moonNode$$);return ilib.Date._fixangle($meanMoon$$+$elongation_longitude$$+$solarAnomaly_venus$$+$jupiter_lunarAnomaly$$+$flatEarth_moonNode$$+ilib.Date._nutation2($c$$5_jd$$))};ilib.Date._newMoonTime=function $ilib$Date$_newMoonTime$($approx_n$$){for(var $extra_k$$=$approx_n$$-24724,$c$$=$extra_k$$/1236.85,$approx_n$$=ilib.Date._poly($c$$,ilib.data.astro._nmApproxCoeff),$additional_capE$$=
ilib.Date._poly($c$$,ilib.data.astro._nmCapECoeff),$solarAnomaly$$=ilib.Date._poly($c$$,ilib.data.astro._nmSolarAnomalyCoeff),$lunarAnomaly$$=ilib.Date._poly($c$$,ilib.data.astro._nmLunarAnomalyCoeff),$moonArgument$$=ilib.Date._poly($c$$,ilib.data.astro._nmMoonArgumentCoeff),$capOmega_correction$$=ilib.Date._poly($c$$,ilib.data.astro._nmCapOmegaCoeff),$capOmega_correction$$=-1.7E-4*ilib.Date._dsin($capOmega_correction$$),$i$$=0;$i$$<ilib.data.astro._nmSineCoeff.length;$i$$++)$capOmega_correction$$=
$capOmega_correction$$+ilib.data.astro._nmSineCoeff[$i$$]*Math.pow($additional_capE$$,ilib.data.astro._nmEFactor[$i$$])*ilib.Date._dsin(ilib.data.astro._nmSolarCoeff[$i$$]*$solarAnomaly$$+ilib.data.astro._nmLunarCoeff[$i$$]*$lunarAnomaly$$+ilib.data.astro._nmMoonCoeff[$i$$]*$moonArgument$$);for($i$$=$additional_capE$$=0;$i$$<ilib.data.astro._nmAddConst.length;$i$$++)$additional_capE$$=$additional_capE$$+ilib.data.astro._nmAddFactor[$i$$]*ilib.Date._dsin(ilib.data.astro._nmAddConst[$i$$]+ilib.data.astro._nmAddCoeff[$i$$]*
$extra_k$$);$extra_k$$=3.25E-4*ilib.Date._dsin(ilib.Date._poly($c$$,ilib.data.astro._nmExtra));return ilib.Date._universalFromEphemeris($approx_n$$+$capOmega_correction$$+$extra_k$$+$additional_capE$$+ilib.Date.RataDie.gregorianEpoch)};ilib.Date._lunarSolarAngle=function $ilib$Date$_lunarSolarAngle$($jd$$){var $lunar$$=ilib.Date._lunarLongitude($jd$$),$jd$$=ilib.Date._solarLongitude($jd$$);return ilib.Date._fixangle($lunar$$-$jd$$)};ilib.Date._newMoonBefore=function $ilib$Date$_newMoonBefore$($jd$$){var $guess_phase$$=
ilib.Date._lunarSolarAngle($jd$$),$guess_phase$$=Math.round(($jd$$-11.450086114414322-ilib.Date.RataDie.gregorianEpoch)/29.530588853-$guess_phase$$/360)-1,$current$$,$last$$;for($current$$=$last$$=ilib.Date._newMoonTime($guess_phase$$);$current$$<$jd$$;){$guess_phase$$++;$last$$=$current$$;$current$$=ilib.Date._newMoonTime($guess_phase$$)}return $last$$};ilib.Date._newMoonAtOrAfter=function $ilib$Date$_newMoonAtOrAfter$($jd$$){for(var $guess$$1_phase$$=ilib.Date._lunarSolarAngle($jd$$),$guess$$1_phase$$=
Math.round(($jd$$-11.450086114414322-ilib.Date.RataDie.gregorianEpoch)/29.530588853-$guess$$1_phase$$/360),$current$$;($current$$=ilib.Date._newMoonTime($guess$$1_phase$$))<$jd$$;)$guess$$1_phase$$++;return $current$$};ilib.Date._nextSolarLongitude=function $ilib$Date$_nextSolarLongitude$($jd$$,$longitude$$){var $tau$$=$jd$$+365.242189/360*ilib.Date._fixangle($longitude$$-ilib.Date._solarLongitude($jd$$)),$start$$=Math.max($jd$$,$tau$$-5);return ilib.bisectionSearch(0,$start$$,$tau$$+5,1.0E-6,function($l$$){return 180-
ilib.Date._fixangle(ilib.Date._solarLongitude($l$$)-$longitude$$)})};ilib.Date._floorToJD=function $ilib$Date$_floorToJD$($jd$$){return Math.floor($jd$$-0.5)+0.5};ilib.Date._ceilToJD=function $ilib$Date$_ceilToJD$($jd$$){return Math.ceil($jd$$+0.5)-0.5}})();
ilib.Date.PersAstroRataDie=function $ilib$Date$PersAstroRataDie$($params$$){this.rd=void 0;ilib.Date.initAstro($params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,$params$$&&$params$$.loadParams,ilib.bind(this,function(){ilib.Date.RataDie.call(this,$params$$);$params$$&&typeof $params$$.callback==="function"&&$params$$.callback(this)}))};ilib.Date.PersAstroRataDie.prototype=new ilib.Date.RataDie;ilib.Date.PersAstroRataDie.prototype.parent=ilib.Date.RataDie;
ilib.Date.PersAstroRataDie.prototype.constructor=ilib.Date.PersAstroRataDie;ilib.Date.PersAstroRataDie.prototype.epoch=1948319.5;
ilib.Date.PersAstroRataDie.prototype._tehranEquinox=function $ilib$Date$PersAstroRataDie$$_tehranEquinox$($equJD_year$$){var $eot_equJED$$;$eot_equJED$$=ilib.Date._equinox($equJD_year$$,0);$equJD_year$$=$eot_equJED$$-ilib.Date._deltat($equJD_year$$)/86400;$eot_equJED$$=ilib.Date._equationOfTime($eot_equJED$$)*360;$eot_equJED$$=($eot_equJED$$-20*Math.floor($eot_equJED$$/20))/360;return $equJD_year$$+$eot_equJED$$+52.5/360};
ilib.Date.PersAstroRataDie.prototype._getYear=function $ilib$Date$PersAstroRataDie$$_getYear$($jd$$){var $guess$$=(new ilib.Date.GregDate({julianday:$jd$$})).getYears()-2,$nexteq$$,$ret$$={};for($ret$$.equinox=this._tehranEquinox($guess$$);$ret$$.equinox>$jd$$;){$guess$$--;$ret$$.equinox=this._tehranEquinox($guess$$)}for($nexteq$$=$ret$$.equinox-1;!(Math.floor($ret$$.equinox)+0.5<=$jd$$&&$jd$$<Math.floor($nexteq$$)+0.5);){$ret$$.equinox=$nexteq$$;$guess$$++;$nexteq$$=this._tehranEquinox($guess$$)}$ret$$.year=
Math.round(($ret$$.equinox-this.epoch-1)/365.24219878)+1;return $ret$$};
ilib.Date.PersAstroRataDie.prototype._setDateComponents=function $ilib$Date$PersAstroRataDie$$_setDateComponents$($date$$){var $adr_jd$$,$guess$$;$guess$$=this.epoch+1+365.24219878*($date$$.year-2);for($adr_jd$$={year:$date$$.year-1,equinox:0};$adr_jd$$.year<$date$$.year;){$adr_jd$$=this._getYear($guess$$);$guess$$=$adr_jd$$.equinox+367.24219878}$adr_jd$$=Math.floor($adr_jd$$.equinox)+($date$$.month<=7?($date$$.month-1)*31:($date$$.month-1)*30+6)+($date$$.day-1+0.5);$adr_jd$$=$adr_jd$$+($date$$.hour*
36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5;this.rd=$adr_jd$$-this.epoch};ilib.Date.PersAstroRataDie.prototype._onOrBefore=function $ilib$Date$PersAstroRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-ilib.mod(Math.floor($rd$$)-$dayOfWeek$$-3,7)};ilib.Cal.Persian=function $ilib$Cal$Persian$(){this.type="persian"};ilib.Cal.Persian.monthLengths=[31,31,31,31,31,31,30,30,30,30,30,29];ilib.Cal.Persian.prototype.getNumMonths=function $ilib$Cal$Persian$$getNumMonths$(){return 12};
ilib.Cal.Persian.prototype.getMonLength=function $ilib$Cal$Persian$$getMonLength$($month$$,$year$$){return $month$$!==12||!this.isLeapYear($year$$)?ilib.Cal.Persian.monthLengths[$month$$-1]:30};
ilib.Cal.Persian.prototype.isLeapYear=function $ilib$Cal$Persian$$isLeapYear$($rdThisYear_year$$){var $rdNextYear$$=new ilib.Date.PersAstroRataDie({cal:this,year:$rdThisYear_year$$+1,month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),$rdThisYear_year$$=new ilib.Date.PersAstroRataDie({cal:this,year:$rdThisYear_year$$,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});return $rdNextYear$$.getRataDie()-$rdThisYear_year$$.getRataDie()>365};ilib.Cal.Persian.prototype.getType=function $ilib$Cal$Persian$$getType$(){return this.type};
ilib.Cal.Persian.prototype.newDateInstance=function $ilib$Cal$Persian$$newDateInstance$($options$$){return new ilib.Date.PersDate($options$$)};ilib.Cal._constructors.persian=ilib.Cal.Persian;
ilib.Date.PersDate=function $ilib$Date$PersDate$($params$$){this.cal=new ilib.Cal.Persian;this.timezone="local";if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new ilib.Locale($params$$.locale):$params$$.locale;this.timezone=(new ilib.LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone}ilib.Date.initAstro($params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,$params$$&&$params$$.loadParams,ilib.bind(this,function(){if($params$$&&
($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond)){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst===
"boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new ilib.TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}if($params$$&&typeof $params$$.onLoad==="function")$params$$.onLoad(this)}))};ilib.Date.PersDate.prototype=new ilib.Date({noinstance:!0});ilib.Date.PersDate.prototype.parent=ilib.Date;
ilib.Date.PersDate.prototype.constructor=ilib.Date.PersDate;ilib.Date.PersDate.cumMonthLengths=[0,31,62,93,124,155,186,216,246,276,306,336,366];ilib.Date.PersDate.prototype.newRd=function $ilib$Date$PersDate$$newRd$($params$$){return new ilib.Date.PersAstroRataDie($params$$)};ilib.Date.PersDate.prototype._calcYear=function $ilib$Date$PersDate$$_calcYear$($rd$$){return this.rd._getYear($rd$$+this.rd.epoch).year};
ilib.Date.PersDate.prototype._calcDateComponents=function $ilib$Date$PersDate$$_calcDateComponents$(){var $rd$$11_remainder$$;$rd$$11_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$11_remainder$$);if(typeof this.offset==="undefined"){if(!this.tz)this.tz=new ilib.TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$11_remainder$$=$rd$$11_remainder$$+this.offset;this.year=this._calcYear($rd$$11_remainder$$)}var $yearStart$$=this.newRd({year:this.year,
month:1,day:1,hour:0,minute:0,second:0,millisecond:0});this.dayOfYear=$rd$$11_remainder$$=$rd$$11_remainder$$-$yearStart$$.getRataDie()+1;this.month=ilib.bsearch(Math.floor($rd$$11_remainder$$),ilib.Date.PersDate.cumMonthLengths);$rd$$11_remainder$$=$rd$$11_remainder$$-ilib.Date.PersDate.cumMonthLengths[this.month-1];this.day=Math.floor($rd$$11_remainder$$);$rd$$11_remainder$$=$rd$$11_remainder$$-this.day;$rd$$11_remainder$$=Math.round($rd$$11_remainder$$*864E5);this.hour=Math.floor($rd$$11_remainder$$/
36E5);$rd$$11_remainder$$=$rd$$11_remainder$$-this.hour*36E5;this.minute=Math.floor($rd$$11_remainder$$/6E4);$rd$$11_remainder$$=$rd$$11_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$11_remainder$$/1E3);this.millisecond=$rd$$11_remainder$$=$rd$$11_remainder$$-this.second*1E3};ilib.Date.PersDate.prototype.getDayOfWeek=function $ilib$Date$PersDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.getRataDie());return ilib.mod($rd$$-3,7)};
ilib.Date.PersDate.prototype.getDayOfYear=function $ilib$Date$PersDate$$getDayOfYear$(){return ilib.Date.PersDate.cumMonthLengths[this.month-1]+this.day};ilib.Date.PersDate.prototype.getEra=function $ilib$Date$PersDate$$getEra$(){return this.year<1?-1:1};ilib.Date.PersDate.prototype.getCalendar=function $ilib$Date$PersDate$$getCalendar$(){return"persian"};ilib.Date._constructors.persian=ilib.Date.PersDate;
ilib.bind(this,function(){if(ilib.isDynCode()){ilib.tmp={};for(var $prop$$ in ilib.CType)ilib.CType[$prop$$]&&(typeof ilib.CType[$prop$$]==="function"&&ilib.CType[$prop$$].stub)&&(ilib.tmp[$prop$$]=ilib.CType[$prop$$])}})();ilib.CType={};
ilib.CType._inRange=function $ilib$CType$_inRange$($num$$,$range$$,$compare_obj$$){if($num$$<0||!$range$$||!$compare_obj$$)return false;$range$$=$compare_obj$$[$range$$];if(!$range$$)return false;var $compare_obj$$=function $$compare_obj$$$($singlerange$$,$target$$){return $singlerange$$.length===1?$singlerange$$[0]-$target$$:$target$$<$singlerange$$[0]?$singlerange$$[0]-$target$$:$target$$>$singlerange$$[1]?$singlerange$$[1]-$target$$:0},$result$$=ilib.bsearch($num$$,$range$$,$compare_obj$$);return $result$$<
$range$$.length&&$compare_obj$$($range$$[$result$$],$num$$)===0};ilib.CType.withinRange=function $ilib$CType$withinRange$($ch$$,$rangeName$$){if(!$rangeName$$)return false;var $num$$;switch(typeof $ch$$){case "number":$num$$=$ch$$;break;case "string":$num$$=ilib.String.toCodePoint($ch$$,0);break;case "undefined":return false;default:$num$$=$ch$$._toCodePoint(0)}return ilib.CType._inRange($num$$,$rangeName$$.toLowerCase(),ilib.data.ctype)};
ilib.CType._init=function $ilib$CType$_init$($sync$$,$loadParams$$,$onLoad$$){ilib.CType._load("ctype",$sync$$,$loadParams$$,$onLoad$$)};
ilib.CType._load=function $ilib$CType$_load$($name$$,$sync$$,$loadParams$$,$onLoad$$){ilib.data[$name$$]?$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data[$name$$]):ilib.loadData({name:$name$$?$name$$+".json":"ctype.json",locale:"-",nonlocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($ct$$){ilib.data[$name$$]=$ct$$;$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data[$name$$])})})};
ilib.bind(this,function(){if(ilib.isDynCode()){for(var $prop$$ in ilib.tmp)ilib.CType[$prop$$]||(ilib.CType[$prop$$]=ilib.tmp[$prop$$]);ilib.tmp=void 0}})();ilib.CType.isDigit=function $ilib$CType$isDigit$($ch$$9_num$$){switch(typeof $ch$$9_num$$){case "number":break;case "string":$ch$$9_num$$=ilib.String.toCodePoint($ch$$9_num$$,0);break;case "undefined":return false;default:$ch$$9_num$$=$ch$$9_num$$._toCodePoint(0)}return ilib.CType._inRange($ch$$9_num$$,"digit",ilib.data.ctype)};
ilib.CType.isDigit._init=function $ilib$CType$isDigit$_init$($sync$$,$loadParams$$,$onLoad$$){ilib.CType._init($sync$$,$loadParams$$,$onLoad$$)};
ilib.CType.isSpace=function $ilib$CType$isSpace$($ch$$10_num$$){switch(typeof $ch$$10_num$$){case "number":break;case "string":$ch$$10_num$$=ilib.String.toCodePoint($ch$$10_num$$,0);break;case "undefined":return false;default:$ch$$10_num$$=$ch$$10_num$$._toCodePoint(0)}return ilib.CType._inRange($ch$$10_num$$,"space",ilib.data.ctype)||ilib.CType._inRange($ch$$10_num$$,"Zs",ilib.data.ctype_z)||ilib.CType._inRange($ch$$10_num$$,"Zl",ilib.data.ctype_z)||ilib.CType._inRange($ch$$10_num$$,"Zp",ilib.data.ctype_z)};
ilib.CType.isSpace._init=function $ilib$CType$isSpace$_init$($sync$$,$loadParams$$,$onLoad$$){ilib.CType._load("ctype_z",$sync$$,$loadParams$$,function(){ilib.CType._init($sync$$,$loadParams$$,$onLoad$$)})};
ilib.Currency=function $ilib$Currency$($options$$){this.sync=true;if($options$$){if($options$$.code)this.code=$options$$.code;if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.sign)this.sign=$options$$.sign;if(typeof $options$$.sync!=="undefined")this.sync=$options$$.sync;if($options$$.loadParams)this.loadParams=$options$$.loadParams}this.locale=this.locale||new ilib.Locale;typeof ilib.data.currency==="undefined"?
ilib.loadData({name:"currency.json",object:ilib.Currency,locale:"-",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($currency$$){ilib.data.currency=$currency$$;this._loadLocinfo($options$$&&$options$$.onLoad)})}):this._loadLocinfo($options$$&&$options$$.onLoad)};
ilib.Currency.getAvailableCurrencies=function $ilib$Currency$getAvailableCurrencies$(){var $ret$$=[],$cur$$,$currencies$$=(new ilib.ResBundle({name:"currency"})).getResObj();for($cur$$ in $currencies$$)$cur$$&&$currencies$$[$cur$$]&&$ret$$.push($cur$$);return $ret$$};
ilib.Currency.prototype={_loadLocinfo:function $ilib$Currency$$_loadLocinfo$($onLoad$$){new ilib.LocaleInfo(this.locale,{onLoad:ilib.bind(this,function($li$$){var $currInfo$$;this.locinfo=$li$$;if(this.code){$currInfo$$=ilib.data.currency[this.code];if(!$currInfo$$)throw"currency "+this.code+" is unknown";}else if(this.sign){$currInfo$$=ilib.data.currency[this.sign];if(typeof $currInfo$$!=="undefined")this.code=this.sign;else{this.code=this.locinfo.getCurrency();$currInfo$$=ilib.data.currency[this.code];
if($currInfo$$.sign!==this.sign)for(var $cur$$ in ilib.data.currency)if($cur$$&&ilib.data.currency[$cur$$]){$currInfo$$=ilib.data.currency[$cur$$];if($currInfo$$.sign===this.sign){this.code=$cur$$;break}}}}if(!$currInfo$$||!this.code){this.code=this.locinfo.getCurrency();$currInfo$$=ilib.data.currency[this.code]}this.name=$currInfo$$.name;this.fractionDigits=$currInfo$$.decimals;this.sign=$currInfo$$.sign;typeof $onLoad$$==="function"&&$onLoad$$(this)})})},getCode:function $ilib$Currency$$getCode$(){return this.code},
getFractionDigits:function $ilib$Currency$$getFractionDigits$(){return this.fractionDigits},getSign:function $ilib$Currency$$getSign$(){return this.sign},getName:function $ilib$Currency$$getName$(){return this.name},getLocale:function $ilib$Currency$$getLocale$(){return this.locale}};
ilib.Number=function $ilib$Number$($str$$,$options$$){var $i$$,$stripped$$="",$sync$$=true,$loadParams$$;this.locale=new ilib.Locale;this.type="number";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.type)switch($options$$.type){case "number":case "currency":case "percentage":this.type=$options$$.type}typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);$loadParams$$=$options$$.loadParams}ilib.CType.isDigit._init($sync$$,
$loadParams$$,ilib.bind(this,function(){ilib.CType.isSpace._init($sync$$,$loadParams$$,ilib.bind(this,function(){new ilib.LocaleInfo(this.locale,{sync:$sync$$,onLoad:ilib.bind(this,function($li$$){this.decimal=$li$$.getDecimalSeparator();switch(typeof $str$$){case "string":var $unary$$=true;this.str=$str$$||"0";for($i$$=$i$$=0;$i$$<this.str.length;$i$$++)if($unary$$&&this.str.charAt($i$$)==="-"){$unary$$=false;$stripped$$=$stripped$$+this.str.charAt($i$$)}else if(ilib.CType.isDigit(this.str.charAt($i$$))){$stripped$$=
$stripped$$+this.str.charAt($i$$);$unary$$=false}else if(this.str.charAt($i$$)===this.decimal){$stripped$$=$stripped$$+".";$unary$$=false}this.value=parseFloat($stripped$$);break;case "number":this.str=""+$str$$;this.value=$str$$;break;case "object":this.value=$str$$.valueOf();this.str=""+this.value;break;case "undefined":this.value=0;this.str="0"}switch(this.type){case "percentage":if(this.str.indexOf($li$$.getPercentageSymbol())!==-1)this.value=this.value/100;break;case "currency":$stripped$$="";
for($i$$=0;$i$$<this.str.length&&!ilib.CType.isDigit(this.str.charAt($i$$))&&!ilib.CType.isSpace(this.str.charAt($i$$));)$stripped$$=$stripped$$+this.str.charAt($i$$++);if($stripped$$.length===0){for(;$i$$<this.str.length&&ilib.CType.isDigit(this.str.charAt($i$$))||ilib.CType.isSpace(this.str.charAt($i$$))||this.str.charAt($i$$)==="."||this.str.charAt($i$$)===",";)$i$$++;for(;$i$$<this.str.length&&!ilib.CType.isDigit(this.str.charAt($i$$))&&!ilib.CType.isSpace(this.str.charAt($i$$));)$stripped$$=
$stripped$$+this.str.charAt($i$$++)}new ilib.Currency({locale:this.locale,sign:$stripped$$,sync:$sync$$,onLoad:ilib.bind(this,function($cur$$){this.currency=$cur$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});return}if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})}))}))};
ilib.Number.prototype={getLocale:function $ilib$Number$$getLocale$(){return this.locale},toString:function $ilib$Number$$toString$(){return this.str},getCurrency:function $ilib$Number$$getCurrency$(){return this.currency},valueOf:function $ilib$Number$$valueOf$(){return this.value}};
ilib.NumFmt=function $ilib$NumFmt$($options$$){var $sync$$=true;this.locale=new ilib.Locale;this.type="number";var $loadParams$$=void 0;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.type&&($options$$.type==="number"||$options$$.type==="currency"||$options$$.type==="percentage"))this.type=$options$$.type;if($options$$.currency)this.currency=$options$$.currency;if(typeof $options$$.maxFractionDigits===
"number")this.maxFractionDigits=this._toPrimitive($options$$.maxFractionDigits);if(typeof $options$$.minFractionDigits==="number"){this.minFractionDigits=this._toPrimitive($options$$.minFractionDigits);if(this.minFractionDigits<0)this.minFractionDigits=0;if(this.minFractionDigits>20)this.minFractionDigits=20}if($options$$.style)this.style=$options$$.style;if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;this.roundingMode=$options$$.roundingMode;typeof $options$$.sync!==
"undefined"&&($sync$$=$options$$.sync==true);$loadParams$$=$options$$.loadParams}this.localeInfo=void 0;new ilib.LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this.localeInfo=$li$$;if(this.type==="number")this.templateNegative=new ilib.String(this.localeInfo.getNegativeNumberFormat()||"-{n}");else{if(this.type==="currency"){var $templates$$;if(!this.currency||typeof this.currency!="string")throw"A currency property is required in the options to the number formatter constructor when the type property is set to currency.";
new ilib.Currency({locale:this.locale,code:this.currency,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($cur$$){this.currencyInfo=$cur$$;if(this.style!=="common"&&this.style!=="iso")this.style="common";if(typeof this.maxFractionDigits!=="number"&&typeof this.minFractionDigits!=="number")this.minFractionDigits=this.maxFractionDigits=this.currencyInfo.getFractionDigits();$templates$$=this.localeInfo.getCurrencyFormats();this.template=new ilib.String($templates$$[this.style]||$templates$$.common);
this.templateNegative=new ilib.String($templates$$[this.style+"Negative"]||$templates$$.commonNegative);this.sign=this.style==="iso"?this.currencyInfo.getCode():this.currencyInfo.getSign();if(!this.roundingMode)this.roundingMode=this.currencyInfo&&this.currencyInfo.roundingMode;this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});return}if(this.type==="percentage"){this.template=new ilib.String(this.localeInfo.getPercentageFormat()||"{n}%");this.templateNegative=
new ilib.String(this.localeInfo.getNegativePercentageFormat()||this.localeInfo.getNegativeNumberFormat()+"%")}}this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};ilib.NumFmt.getAvailableLocales=function $ilib$NumFmt$getAvailableLocales$(){};ilib.NumFmt.zeros="0000000000000000000000000000000000000000000000000000000000000000000000";
ilib.NumFmt.prototype={getUseNative:function $ilib$NumFmt$$getUseNative$(){return typeof this.useNative==="boolean"?this.useNative:this.localeInfo.getDigitsStyle()==="native"},_init:function $ilib$NumFmt$$_init$(){if(this.maxFractionDigits<this.minFractionDigits)this.minFractionDigits=this.maxFractionDigits;if(!this.roundingMode)this.roundingMode=this.localeInfo.getRoundingMode();if(!this.roundingMode)this.roundingMode="halfdown";this.round=ilib._roundFnc[this.roundingMode];if(!this.round){this.roundingMode=
"halfdown";this.round=ilib._roundFnc[this.roundingMode]}if(this.style==="nogrouping")this.prigroupSize=this.secgroupSize=0;else{this.prigroupSize=this.localeInfo.getPrimaryGroupingDigits();this.secgroupSize=this.localeInfo.getSecondaryGroupingDigits();this.groupingSeparator=this.getUseNative()?this.localeInfo.getNativeGroupingSeparator():this.localeInfo.getGroupingSeparator()}this.decimalSeparator=this.getUseNative()?this.localeInfo.getNativeDecimalSeparator():this.localeInfo.getDecimalSeparator();
if(this.getUseNative()){var $nd$$=this.localeInfo.getNativeDigits()||this.localeInfo.getDigits();if($nd$$)this.digits=$nd$$.split("")}this.exponentSymbol=this.localeInfo.getExponential()||"e"},_pad:function $ilib$NumFmt$$_pad$($str$$,$length$$,$left$$){return $str$$.length>=$length$$?$str$$:$left$$?ilib.NumFmt.zeros.substring(0,$length$$-$str$$.length)+$str$$:$str$$+ilib.NumFmt.zeros.substring(0,$length$$-$str$$.length)},_toPrimitive:function $ilib$NumFmt$$_toPrimitive$($num$$){var $n$$=0;switch(typeof $num$$){case "number":$n$$=
$num$$;break;case "string":$n$$=parseFloat($num$$);break;case "object":$n$$=$num$$.valueOf()}return $n$$},_formatScientific:function $ilib$NumFmt$$_formatScientific$($exponent_num$$23_parts$$){var $formatted$$,$factor$$1_fraction$$,$exponent_num$$23_parts$$=(new Number($exponent_num$$23_parts$$)).toExponential().split("e");$formatted$$=$exponent_num$$23_parts$$[0];$exponent_num$$23_parts$$=$exponent_num$$23_parts$$[1];if(this.maxFractionDigits>0){$factor$$1_fraction$$=Math.pow(10,this.maxFractionDigits);
$formatted$$=this.round($formatted$$*$factor$$1_fraction$$)/$factor$$1_fraction$$}$factor$$1_fraction$$=(""+$formatted$$).split(".");$formatted$$=$factor$$1_fraction$$[0];$factor$$1_fraction$$=$factor$$1_fraction$$[1];typeof this.maxFractionDigits!=="undefined"&&($factor$$1_fraction$$=$factor$$1_fraction$$.substring(0,this.maxFractionDigits));typeof this.minFractionDigits!=="undefined"&&($factor$$1_fraction$$=this._pad($factor$$1_fraction$$||"",this.minFractionDigits,false));$factor$$1_fraction$$.length&&
($formatted$$=$formatted$$+(this.decimalSeparator+$factor$$1_fraction$$));return $formatted$$=$formatted$$+(this.exponentSymbol+$exponent_num$$23_parts$$)},_formatStandard:function $ilib$NumFmt$$_formatStandard$($integral$$1_num$$){var $i$$31_k$$;if(typeof this.maxFractionDigits!=="undefined"&&this.maxFractionDigits>-1)var $factor$$2_fraction$$2_parts$$=Math.pow(10,this.maxFractionDigits),$integral$$1_num$$=this.round($integral$$1_num$$*$factor$$2_fraction$$2_parts$$)/$factor$$2_fraction$$2_parts$$;
var $integral$$1_num$$=Math.abs($integral$$1_num$$),$factor$$2_fraction$$2_parts$$=(""+$integral$$1_num$$).split("."),$integral$$1_num$$=$factor$$2_fraction$$2_parts$$[0],$factor$$2_fraction$$2_parts$$=$factor$$2_fraction$$2_parts$$[1],$cycle_num_sec$$,$formatted$$,$integral$$1_num$$=$integral$$1_num$$.toString();this.minFractionDigits>0&&($factor$$2_fraction$$2_parts$$=this._pad($factor$$2_fraction$$2_parts$$||"",this.minFractionDigits,false));if(this.secgroupSize>0){if($integral$$1_num$$.length>
this.prigroupSize){$i$$31_k$$=$integral$$1_num$$.length-this.prigroupSize;$integral$$1_num$$=$integral$$1_num$$.slice(0,$i$$31_k$$)+this.groupingSeparator+$integral$$1_num$$.slice($i$$31_k$$);$cycle_num_sec$$=$integral$$1_num$$.substring(0,$integral$$1_num$$.indexOf(this.groupingSeparator));for($i$$31_k$$=$cycle_num_sec$$.length;$i$$31_k$$>this.secgroupSize;){$i$$31_k$$=$cycle_num_sec$$.length-this.secgroupSize;$integral$$1_num$$=$integral$$1_num$$.slice(0,$i$$31_k$$)+this.groupingSeparator+$integral$$1_num$$.slice($i$$31_k$$);
$cycle_num_sec$$=$integral$$1_num$$.substring(0,$integral$$1_num$$.indexOf(this.groupingSeparator));$i$$31_k$$=$cycle_num_sec$$.length}}$formatted$$=$integral$$1_num$$}else if(this.prigroupSize!==0){$cycle_num_sec$$=ilib.mod($integral$$1_num$$.length-1,this.prigroupSize);$formatted$$="";for($i$$31_k$$=0;$i$$31_k$$<$integral$$1_num$$.length-1;$i$$31_k$$++){$formatted$$=$formatted$$+$integral$$1_num$$.charAt($i$$31_k$$);$cycle_num_sec$$===0&&($formatted$$=$formatted$$+this.groupingSeparator);$cycle_num_sec$$=
ilib.mod($cycle_num_sec$$-1,this.prigroupSize)}$formatted$$=$formatted$$+$integral$$1_num$$.charAt($integral$$1_num$$.length-1)}else $formatted$$=$integral$$1_num$$;if($factor$$2_fraction$$2_parts$$&&(typeof this.maxFractionDigits==="undefined"||this.maxFractionDigits>0)){$formatted$$=$formatted$$+this.decimalSeparator;$formatted$$=$formatted$$+$factor$$2_fraction$$2_parts$$}this.digits&&($formatted$$=ilib.mapString($formatted$$,this.digits));return $formatted$$},format:function $ilib$NumFmt$$format$($num$$){var $formatted$$,
$n$$;if(typeof $num$$==="undefined")return"";$n$$=this._toPrimitive($num$$);if(this.type==="number"){$formatted$$=this.style==="scientific"?this._formatScientific($n$$):this._formatStandard($n$$);$num$$<0&&($formatted$$=this.templateNegative.format({n:$formatted$$}))}else{$formatted$$=this._formatStandard($n$$);$formatted$$=($n$$<0?this.templateNegative:this.template).format({n:$formatted$$,s:this.sign})}return $formatted$$},getType:function $ilib$NumFmt$$getType$(){return this.type},getLocale:function $ilib$NumFmt$$getLocale$(){return this.locale},
isGroupingUsed:function $ilib$NumFmt$$isGroupingUsed$(){return this.groupingSeparator!=="undefined"&&this.groupingSeparator.length>0},getMaxFractionDigits:function $ilib$NumFmt$$getMaxFractionDigits$(){return typeof this.maxFractionDigits!=="undefined"?this.maxFractionDigits:-1},getMinFractionDigits:function $ilib$NumFmt$$getMinFractionDigits$(){return typeof this.minFractionDigits!=="undefined"?this.minFractionDigits:-1},getCurrency:function $ilib$NumFmt$$getCurrency$(){return this.currencyInfo&&
this.currencyInfo.getCode()},getRoundingMode:function $ilib$NumFmt$$getRoundingMode$(){return this.roundingMode},getStyle:function $ilib$NumFmt$$getStyle$(){return this.style}};
ilib.DurFmt=function $ilib$DurFmt$($options$$){var $sync$$=true,$loadParams$$=void 0;this.locale=new ilib.Locale;this.length="short";this.style="text";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length;if($options$$.style&&($options$$.style==="text"||
$options$$.style==="clock"))this.style=$options$$.style;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;$loadParams$$=$options$$.loadParams}new ilib.ResBundle({locale:this.locale,name:"sysres",sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($sysres$$){switch(this.length){case "short":this.components={year:$sysres$$.getString("#{num}y"),month:$sysres$$.getString("#{num}m","durationShortMonths"),
week:$sysres$$.getString("#{num}w"),day:$sysres$$.getString("#{num}d"),hour:$sysres$$.getString("#{num}h"),minute:$sysres$$.getString("#{num}m","durationShortMinutes"),second:$sysres$$.getString("#{num}s"),millisecond:$sysres$$.getString("#{num}m","durationShortMillis"),separator:$sysres$$.getString(" ","separatorShort"),finalSeparator:""};break;case "medium":this.components={year:$sysres$$.getString("1#1 yr|#{num} yrs","durationMediumYears"),month:$sysres$$.getString("1#1 mo|#{num} mos"),week:$sysres$$.getString("1#1 wk|#{num} wks",
"durationMediumWeeks"),day:$sysres$$.getString("1#1 dy|#{num} dys"),hour:$sysres$$.getString("1#1 hr|#{num} hrs","durationMediumHours"),minute:$sysres$$.getString("1#1 mi|#{num} min"),second:$sysres$$.getString("1#1 se|#{num} sec"),millisecond:$sysres$$.getString("#{num} ms"),separator:$sysres$$.getString(" ","separatorMedium"),finalSeparator:""};break;case "long":this.components={year:$sysres$$.getString("1#1 yr|#{num} yrs"),month:$sysres$$.getString("1#1 mon|#{num} mons"),week:$sysres$$.getString("1#1 wk|#{num} wks"),
day:$sysres$$.getString("1#1 day|#{num} days","durationLongDays"),hour:$sysres$$.getString("1#1 hr|#{num} hrs"),minute:$sysres$$.getString("1#1 min|#{num} min"),second:$sysres$$.getString("1#1 sec|#{num} sec"),millisecond:$sysres$$.getString("#{num} ms"),separator:$sysres$$.getString(", ","separatorLong"),finalSeparator:""};break;case "full":this.components={year:$sysres$$.getString("1#1 year|#{num} years"),month:$sysres$$.getString("1#1 month|#{num} months"),week:$sysres$$.getString("1#1 week|#{num} weeks"),
day:$sysres$$.getString("1#1 day|#{num} days"),hour:$sysres$$.getString("1#1 hour|#{num} hours"),minute:$sysres$$.getString("1#1 minute|#{num} minutes"),second:$sysres$$.getString("1#1 second|#{num} seconds"),millisecond:$sysres$$.getString("1#1 millisecond|#{num} milliseconds"),separator:$sysres$$.getString(", ","separatorFull"),finalSeparator:$sysres$$.getString(" and ","finalSeparatorFull")}}this.style==="clock"?new ilib.DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"ms",sync:$sync$$,
loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtMS$$){this.timeFmtMS=$fmtMS$$;new ilib.DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"hm",sync:$sync$$,loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtHM$$){this.timeFmtHM=$fmtHM$$;new ilib.DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"hms",sync:$sync$$,loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtHMS$$){this.timeFmtHMS=
$fmtHMS$$;this.timeFmtHM.template=this.timeFmtHM.template.replace(/hh?/,"H");this.timeFmtHM.templateArr=this.timeFmtHM._tokenize(this.timeFmtHM.template);this.timeFmtHMS.template=this.timeFmtHMS.template.replace(/hh?/,"H");this.timeFmtHMS.templateArr=this.timeFmtHMS._tokenize(this.timeFmtHMS.template);this._init(this.timeFmtHM.locinfo,$options$$&&$options$$.onLoad)})})})})})}):new ilib.LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this._init($li$$,
$options$$&&$options$$.onLoad)})})})})};ilib.DurFmt.complist={text:"year month week day hour minute second millisecond".split(" "),clock:["year","month","week","day"]};ilib.DurFmt.prototype._mapDigits=function $ilib$DurFmt$$_mapDigits$($str$$){return this.useNative&&this.digits?ilib.mapString($str$$.toString(),this.digits):$str$$};
ilib.DurFmt.prototype._init=function $ilib$DurFmt$$_init$($locinfo$$,$onLoad$$){var $digits$$;if(typeof this.useNative==="boolean"){if(this.useNative)if($digits$$=$locinfo$$.getNativeDigits())this.digits=$digits$$}else if($locinfo$$.getDigitsStyle()==="native")if($digits$$=$locinfo$$.getNativeDigits()){this.useNative=true;this.digits=$digits$$}typeof $onLoad$$==="function"&&$onLoad$$(this)};
ilib.DurFmt.prototype.format=function $ilib$DurFmt$$format$($components$$){var $fmt$$3_i$$,$list$$,$secondlast$$=true,$str$$="";$list$$=ilib.DurFmt.complist[this.style];for($fmt$$3_i$$=$list$$.length-1;$fmt$$3_i$$>=0;$fmt$$3_i$$--)if(typeof $components$$[$list$$[$fmt$$3_i$$]]!=="undefined"&&$components$$[$list$$[$fmt$$3_i$$]]!=0){if($str$$.length>0){$str$$=(this.length==="full"&&$secondlast$$?this.components.finalSeparator:this.components.separator)+$str$$;$secondlast$$=false}$str$$=this.components[$list$$[$fmt$$3_i$$]].formatChoice($components$$[$list$$[$fmt$$3_i$$]],
{num:this._mapDigits($components$$[$list$$[$fmt$$3_i$$]])})+$str$$}if(this.style==="clock"){$fmt$$3_i$$=typeof $components$$.hour!=="undefined"?typeof $components$$.second!=="undefined"?this.timeFmtHMS:this.timeFmtHM:this.timeFmtMS;$str$$.length>0&&($str$$=$str$$+this.components.separator);$str$$=$str$$+$fmt$$3_i$$._formatTemplate($components$$,$fmt$$3_i$$.templateArr)}return new ilib.String($str$$)};ilib.DurFmt.prototype.getLocale=function $ilib$DurFmt$$getLocale$(){return this.locale};
ilib.DurFmt.prototype.getLength=function $ilib$DurFmt$$getLength$(){return this.length};ilib.DurFmt.prototype.getStyle=function $ilib$DurFmt$$getStyle$(){return this.style};
ilib.ScriptInfo=function $ilib$ScriptInfo$($script$$,$options$$){var $sync$$=true,$loadParams$$=void 0;this.script=$script$$;if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")$loadParams$$=$options$$.loadParams}if(!ilib.ScriptInfo.cache)ilib.ScriptInfo.cache={};ilib.data.scripts?this.info=ilib.data.scripts[$script$$]:ilib.loadData({object:ilib.ScriptInfo,locale:"-",name:"scripts.json",sync:$sync$$,loadParams:$loadParams$$,
callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$={Latn:{nb:215,nm:"Latin",lid:"Latin",rtl:false,ime:false,casing:true}},$spec$$=this.locale.getSpec().replace(/-/g,"_");ilib.ScriptInfo.cache[$spec$$]=$info$$}ilib.data.scripts=$info$$;this.info=$script$$&&ilib.data.scripts[$script$$];if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};
ilib.ScriptInfo.getAllScripts=function $ilib$ScriptInfo$getAllScripts$(){var $ret$$=[],$script$$=void 0,$scripts$$=ilib.data.scripts;for($script$$ in $scripts$$)$script$$&&$scripts$$[$script$$]&&$ret$$.push($script$$);return $ret$$};
ilib.ScriptInfo.prototype={getCode:function $ilib$ScriptInfo$$getCode$(){return this.info&&this.script},getCodeNumber:function $ilib$ScriptInfo$$getCodeNumber$(){return this.info&&this.info.nb||0},getName:function $ilib$ScriptInfo$$getName$(){return this.info&&this.info.nm},getLongCode:function $ilib$ScriptInfo$$getLongCode$(){return this.info&&this.info.lid},getScriptDirection:function $ilib$ScriptInfo$$getScriptDirection$(){return this.info&&typeof this.info.rtl!=="undefined"&&this.info.rtl?"rtl":
"ltr"},getNeedsIME:function $ilib$ScriptInfo$$getNeedsIME$(){return this.info&&this.info.ime?true:false},getCasing:function $ilib$ScriptInfo$$getCasing$(){return this.info&&this.info.casing?true:false}};
ilib.CaseMapper=function $ilib$CaseMapper$($options$$){this.up=true;this.locale=new ilib.Locale;if($options$$){if(typeof $options$$.locale!=="undefined")this.locale=typeof $options$$.locale==="string"?new ilib.Locale($options$$.locale):$options$$.locale;this.up=!$options$$.direction||$options$$.direction==="toupper"}this.mapData=this.up?{"\u00df":"SS","\u0390":"\u0399","\u03ac":"\u0391","\u03ad":"\u0395","\u03ae":"\u0397","\u03af":"\u0399","\u03b0":"\u03a5","\u03ca":"\u0399","\u03cb":"\u03a5","\u03cc":"\u039f",
"\u03cd":"\u03a5","\u03ce":"\u03a9","\u04c0":"\u04c0","\u04cf":"\u04c0"}:{"\u04c0":"\u04c0"};switch(this.locale.getLanguage()){case "az":case "tr":case "crh":case "kk":case "krc":case "tt":this._setUpMap("i\u0131","\u0130I");break;case "fr":this.up&&this.locale.getRegion()!=="CA"&&this._setUpMap("\u00e0\u00e1\u00e2\u00e3\u00e4\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f1\u00f2\u00f3\u00f4\u00f6\u00f9\u00fa\u00fb\u00fc","AAAAACEEEEIIIINOOOOUUUU")}if(ilib._getBrowser()==="ie"){this.up&&
(this.mapData["\u03c2"]="\u03a3");this._setUpMap("\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cc1\u2cc9\u2ccb","\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cc0\u2cc8\u2cca");this._setUpMap("\u2d00\u2d01\u2d02\u2d03\u2d04\u2d05\u2d06\u2d07\u2d08\u2d09\u2d0a\u2d0b\u2d0c\u2d0d\u2d0e\u2d0f\u2d10\u2d11\u2d12\u2d13\u2d14\u2d15\u2d16\u2d17\u2d18\u2d19\u2d1a\u2d1b\u2d1c\u2d1d\u2d1e\u2d1f\u2d20\u2d21\u2d22\u2d23\u2d24\u2d25",
"\u10a0\u10a1\u10a2\u10a3\u10a4\u10a5\u10a6\u10a7\u10a8\u10a9\u10aa\u10ab\u10ac\u10ad\u10ae\u10af\u10b0\u10b1\u10b2\u10b3\u10b4\u10b5\u10b6\u10b7\u10b8\u10b9\u10ba\u10bb\u10bc\u10bd\u10be\u10bf\u10c0\u10c1\u10c2\u10c3\u10c4\u10c5")}};
ilib.CaseMapper.prototype={_charMapper:function $ilib$CaseMapper$$_charMapper$($it$$4_string$$){if(!$it$$4_string$$)return $it$$4_string$$;for(var $ret$$="",$it$$4_string$$=(typeof $it$$4_string$$==="string"?new ilib.String($it$$4_string$$):$it$$4_string$$.toString()).charIterator(),$c$$;$it$$4_string$$.hasNext();){$c$$=$it$$4_string$$.next();if(!this.up&&$c$$==="\u03a3")if($it$$4_string$$.hasNext()){$c$$=$it$$4_string$$.next();var $code$$=$c$$.charCodeAt(0),$ret$$=$ret$$+($code$$<904&&$code$$!==
902||$code$$>974?"\u03c2":"\u03c3"),$ret$$=$ret$$+$c$$.toLowerCase()}else $ret$$=$ret$$+"\u03c2";else $ret$$=this.mapData[$c$$]?$ret$$+this.mapData[$c$$]:$ret$$+(this.up?$c$$.toUpperCase():$c$$.toLowerCase())}return $ret$$},_setUpMap:function $ilib$CaseMapper$$_setUpMap$($lower$$,$upper$$){var $from$$,$to$$;if(this.up){$from$$=$lower$$;$to$$=$upper$$}else{$from$$=$upper$$;$to$$=$lower$$}for(var $i$$=0;$i$$<$upper$$.length;$i$$++)this.mapData[$from$$[$i$$]]=$to$$[$i$$]},getLocale:function $ilib$CaseMapper$$getLocale$(){return this.locale},
map:function $ilib$CaseMapper$$map$($string$$){return this._charMapper($string$$)}};